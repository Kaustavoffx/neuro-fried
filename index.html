
<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>NEURO-FRIED: FINAL SURVIVAL</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>
    <style>
        
        @import url('https://fonts.googleapis.com/css2?family=Courier+Prime:wght@700&family=VT323&display=swap');
        @import url('https://fonts.googleapis.com/css2?family=Orbitron:wght@900&display=swap');
        @import url('https://fonts.googleapis.com/css2?family=Rajdhani:wght@600;700&display=swap');

        :root {
            
            --bg-color: #050000;
            --bg-dark: #020000;
            --primary: #8b00ff;
            --primary-light: #a020f0;
            --secondary: #6a0dad;
            --dark-blue: #1a0000;
            --accent: #ffffff;
            --danger: #ff0000;
            --blood: #8b0000;
            --blood-dark: #4a0000;
            --blood-bright: #cc0000;
            --green: #00ff00;
            --text-main: #ffffff;
            --text-dim: #cccccc;
            --particle-col: #ff0000;
            --horror-glow: rgba(255, 0, 0, 0.25);
            --blood-glow: rgba(139, 0, 0, 0.4);

            
            --glass-bg: rgba(15, 0, 0, 0.9);
            --glass-border: 1px solid rgba(139, 0, 0, 0.5);
            --glass-blur: blur(30px);
            --glass-shadow: 0 30px 80px rgba(139, 0, 0, 0.4);

            
            --f-title: 'Orbitron', sans-serif;
            --f-ui: 'Rajdhani', sans-serif;
            --f-mono: 'VT323', monospace;
        }

        .tech-btn {
            animation: none !important;
        }

        
        body.t-finance {
            --primary: #ffd700;
            --secondary: #50c878;
            --bg-color: #020502;
            --text-main: #fff;
            --particle-col: #fff;
        }

        body.t-code {
            --primary: #00ff00;
            --secondary: #008f11;
            --bg-color: #020502;
            --text-main: #fff;
            --particle-col: #0f0;
        }

        body.t-space {
            --primary: #9d00ff;
            --secondary: #e0b0ff;
            --bg-color: #05000a;
            --text-main: #fff;
            --particle-col: #fff;
        }

        body.t-social {
            --primary: #ff0055;
            --secondary: #ffcc00;
            --bg-color: #0f0202;
            --text-main: #fff;
            --particle-col: #fff;
        }

        body.t-gaming {
            --primary: #ff4400;
            --secondary: #ffee00;
            --bg-color: #0d0500;
            --text-main: #fff;
            --particle-col: #fff;
        }

        
        body.time-day {
            --bg-color: #ffffff;
            --bg-dark: #f0f0f0;
            --primary: #000000;
            --primary-light: #333333;
            --secondary: #666666;
            --current-bg: #ffffff;
            --text-main: #000000;
            --text-dim: #555555;
            --particle-col: #000000;
            --glass-bg: rgba(255, 255, 255, 0.9);
            --glass-border: 1px solid rgba(0, 0, 0, 0.2);
            --glass-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
        }

        body.time-night {
            
            --bg-color: #050000;
            --primary: #ff1a1a;
            --text-main: #ffffff;
            --glass-bg: rgba(15, 0, 0, 0.9);
            transition: background-color 3s ease, color 3s ease;
        }

        * {
            box-sizing: border-box;
            user-select: none;
            -webkit-tap-highlight-color: transparent;
        }

        body {
            margin: 0;
            padding: 0;
            background-color: var(--bg-color);
            color: var(--text-main);
            font-family: var(--f-ui);
            height: 100vh;
            overflow: hidden;
            display: flex;
            justify-content: center;
            align-items: center;
            transition: background-color 0.8s ease, color 0.5s ease;
            animation: bgPulse 10s infinite alternate;
        }

        @keyframes bgPulse {
            0% {
                box-shadow: inset 0 0 100px rgba(0, 0, 0, 0.8);
            }

            100% {
                box-shadow: inset 0 0 200px rgba(0, 0, 0, 1);
            }
        }

        

        
        
        body::before {
            content: none;
        }

        
        #tilt-ambient {
            position: absolute;
            inset: -100px;
            
            background:
                radial-gradient(ellipse at 50% 0%, rgba(139, 0, 0, 0.6) 0%, transparent 40%),
                radial-gradient(ellipse at 0% 50%, rgba(255, 0, 0, 0.3) 0%, transparent 30%),
                radial-gradient(ellipse at 100% 50%, rgba(255, 0, 0, 0.3) 0%, transparent 30%),
                radial-gradient(ellipse at 50% 100%, rgba(139, 0, 0, 0.5) 0%, transparent 40%),
                radial-gradient(circle at 30% 20%, rgba(200, 0, 0, 0.2) 0%, transparent 20%),
                radial-gradient(circle at 70% 80%, rgba(200, 0, 0, 0.2) 0%, transparent 20%);
            pointer-events: none;
            z-index: -1;
            
            animation: bloodPulse 4s ease-in-out infinite alternate;
        }

        @keyframes bloodPulse {
            0% {
                opacity: 0.5;
                filter: brightness(0.9);
            }

            50% {
                opacity: 0.8;
                filter: brightness(1.1);
            }

            100% {
                opacity: 0.6;
                filter: brightness(1);
            }
        }

        
        .blood-veins {
            position: fixed;
            inset: 0;
            background:
                linear-gradient(90deg, transparent 49%, rgba(139, 0, 0, 0.1) 50%, transparent 51%),
                linear-gradient(0deg, transparent 49%, rgba(139, 0, 0, 0.1) 50%, transparent 51%);
            background-size: 50px 50px;
            pointer-events: none;
            z-index: 9996;
            animation: veinPulse 2s ease-in-out infinite;
            opacity: 0.3;
        }

        @keyframes veinPulse {

            0%,
            100% {
                opacity: 0.2;
            }

            50% {
                opacity: 0.4;
            }
        }

        
        .blood-drip {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            height: 100vh;
            background:
                linear-gradient(180deg, rgba(139, 0, 0, 0.5) 0%, rgba(139, 0, 0, 0.2) 5%, transparent 12%),
                linear-gradient(180deg, rgba(200, 0, 0, 0.4) 0%, transparent 6%) 20% 0,
                linear-gradient(180deg, rgba(139, 0, 0, 0.3) 0%, transparent 8%) 40% 0,
                linear-gradient(180deg, rgba(180, 0, 0, 0.4) 0%, transparent 7%) 60% 0,
                linear-gradient(180deg, rgba(139, 0, 0, 0.3) 0%, transparent 5%) 80% 0;
            background-size: 100% 100%, 3px 100%, 2px 100%, 4px 100%, 2px 100%;
            background-repeat: no-repeat;
            pointer-events: none;
            z-index: 9995;
            animation: bloodDripAnim 8s ease-in-out infinite;
            opacity: 0.35;
        }

        @keyframes bloodDripAnim {

            0%,
            100% {
                opacity: 0.3;
                transform: translateY(0);
            }

            30% {
                opacity: 0.6;
            }

            50% {
                opacity: 0.5;
                transform: translateY(5px);
            }

            70% {
                opacity: 0.4;
            }
        }

        
        body::after {
            content: '';
            position: fixed;
            inset: 0;
            background: repeating-linear-gradient(0deg,
                    rgba(0, 0, 0, 0.1) 0px,
                    rgba(0, 0, 0, 0.1) 1px,
                    transparent 1px,
                    transparent 3px);
            pointer-events: none;
            z-index: 9997;
            opacity: 0.3;
        }

        
        @keyframes horrorShake {

            0%,
            100% {
                transform: translate(0);
            }

            10% {
                transform: translate(-2px, -1px);
            }

            20% {
                transform: translate(2px, 1px);
            }

            30% {
                transform: translate(-1px, 2px);
            }

            40% {
                transform: translate(1px, -1px);
            }

            50% {
                transform: translate(-2px, 1px);
            }

            60% {
                transform: translate(2px, -2px);
            }

            70% {
                transform: translate(-1px, -1px);
            }

            80% {
                transform: translate(1px, 2px);
            }

            90% {
                transform: translate(-2px, -2px);
            }
        }

        body.horror-shake {
            animation: horrorShake 0.4s ease-in-out;
        }

        
        @keyframes anxietyPulse {

            0%,
            100% {
                box-shadow: inset 0 0 0 0 var(--horror-glow);
            }

            50% {
                box-shadow: inset 0 0 100px 30px var(--horror-glow);
            }
        }

        body.anxiety-mode {
            animation: anxietyPulse 2s ease-in-out infinite;
        }

        
        .typewriter-text {
            font-family: var(--f-mono);
            white-space: pre-wrap;
            overflow: hidden;
            border-right: 2px solid var(--primary);
            animation: blinkCursor 0.7s step-end infinite;
        }

        .typewriter-text.done {
            border-right: none;
            animation: none;
        }

        @keyframes blinkCursor {

            0%,
            100% {
                border-color: var(--primary);
            }

            50% {
                border-color: transparent;
            }
        }

        .story-container {
            background: rgba(0, 0, 0, 0.7);
            border: 1px solid rgba(255, 0, 0, 0.4);
            border-radius: 12px;
            padding: 25px 30px;
            margin: 20px auto;
            max-width: 650px;
            min-height: 100px;
            font-size: 1.1rem;
            line-height: 1.8;
        }

        .story-line {
            color: #ffffff;
            font-family: var(--f-mono);
            font-size: 1.1rem;
            margin-bottom: 12px;
            opacity: 0;
            transform: translateY(10px);
            transition: opacity 0.3s, transform 0.3s;
            text-shadow: 0 0 10px rgba(255, 0, 0, 0.3);
        }

        .story-line.visible {
            opacity: 1;
            transform: translateY(0);
        }

        
        .darkness-overlay {
            position: fixed;
            inset: 0;
            background: #000000;
            z-index: 99999;
            opacity: 0;
            pointer-events: none;
            transition: opacity 1s ease;
        }

        .darkness-overlay.active {
            opacity: 1;
            pointer-events: auto;
        }

        .darkness-overlay.fade-out {
            opacity: 0;
            pointer-events: none;
        }

        
        .click-to-start {
            position: fixed;
            inset: 0;
            background:
                radial-gradient(ellipse at 20% 30%, rgba(139, 0, 255, 0.15) 0%, transparent 50%),
                radial-gradient(ellipse at 80% 70%, rgba(255, 0, 60, 0.15) 0%, transparent 50%),
                linear-gradient(180deg, #000000 0%, #0a0005 50%, #000000 100%);
            z-index: 100000;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            cursor: pointer;
            overflow: hidden;
        }

        
        .click-to-start::before {
            content: '';
            position: absolute;
            inset: 0;
            background-image:
                linear-gradient(transparent 0%, rgba(139, 0, 255, 0.05) 50%, transparent 100%);
            background-size: 20px 100%;
            background-position: 0 0;
            animation: matrixRain 3s linear infinite;
            opacity: 0.4;
        }

        @keyframes matrixRain {
            0% {
                background-position: 0 0;
            }

            100% {
                background-position: 0 100vh;
            }
        }

        
        .click-to-start::after {
            content: '';
            position: absolute;
            inset: 0;
            background:
                repeating-linear-gradient(0deg, transparent, transparent 2px, rgba(255, 0, 60, 0.03) 3px),
                repeating-linear-gradient(90deg, transparent, transparent 2px, rgba(139, 0, 255, 0.03) 3px);
            animation: glitchOverlay 8s steps(4) infinite;
            pointer-events: none;
        }

        @keyframes glitchOverlay {

            0%,
            100% {
                opacity: 0.5;
                transform: translate(0, 0);
            }

            25% {
                opacity: 0.8;
                transform: translate(2px, -2px);
            }

            50% {
                opacity: 0.6;
                transform: translate(-2px, 2px);
            }

            75% {
                opacity: 0.7;
                transform: translate(1px, -1px);
            }
        }

        .click-to-start .start-text {
            font-family: var(--f-title);
            font-size: 3rem;
            color: var(--primary);
            animation: superPulsate 2s ease-in-out infinite, chromaGlitch 4s infinite;
            text-shadow:
                0 0 30px var(--primary),
                0 0 60px var(--primary),
                2px 2px 0 rgba(255, 0, 60, 0.5),
                -2px -2px 0 rgba(0, 255, 255, 0.5);
            position: relative;
            z-index: 10;
            letter-spacing: 8px;
        }

        @keyframes chromaGlitch {

            0%,
            90%,
            100% {
                text-shadow:
                    0 0 30px var(--primary),
                    0 0 60px var(--primary),
                    2px 2px 0 rgba(255, 0, 60, 0.5),
                    -2px -2px 0 rgba(0, 255, 255, 0.5);
            }

            92% {
                text-shadow:
                    0 0 30px var(--primary),
                    5px 0 10px rgba(255, 0, 60, 0.8),
                    -5px 0 10px rgba(0, 255, 255, 0.8);
                transform: skew(-2deg);
            }

            94% {
                transform: skew(2deg);
            }
        }

        .click-to-start .start-subtext {
            font-family: var(--f-mono);
            font-size: 1.2rem;
            color: var(--text-dim);
            margin-top: 20px;
            animation: blink 1.5s ease-in-out infinite;
            position: relative;
            z-index: 10;
            letter-spacing: 3px;
            text-shadow: 0 0 10px rgba(255, 255, 255, 0.3);
        }

        .click-to-start .headphones-warning {
            font-family: var(--f-ui);
            font-size: 1.5rem;
            color: var(--secondary);
            margin-top: 40px;
            font-weight: bold;
            text-transform: uppercase;
            letter-spacing: 3px;
            animation: superPulsate 3s ease-in-out infinite;
            text-shadow:
                0 0 15px var(--secondary),
                0 0 30px var(--secondary);
            border: 2px solid var(--secondary);
            padding: 15px 30px;
            background:
                linear-gradient(135deg, rgba(139, 0, 255, 0.2) 0%, rgba(0, 0, 0, 0.8) 100%);
            backdrop-filter: blur(10px);
            position: relative;
            z-index: 10;
            box-shadow:
                0 0 20px rgba(139, 0, 255, 0.4),
                inset 0 0 20px rgba(139, 0, 255, 0.1);
            border-radius: 8px;
        }

        @keyframes superPulsate {

            0%,
            100% {
                transform: scale(1);
                opacity: 1;
            }

            50% {
                transform: scale(1.08);
                opacity: 0.85;
            }
        }

        @keyframes blink {

            0%,
            100% {
                opacity: 1;
            }

            50% {
                opacity: 0.4;
            }
        }

        

        
        .landing-energy-rings {
            position: absolute;
            inset: 0;
            background:
                radial-gradient(circle at 50% 50%, transparent 20%, rgba(139, 0, 255, 0.1) 21%, transparent 22%),
                radial-gradient(circle at 50% 50%, transparent 35%, rgba(255, 0, 60, 0.08) 36%, transparent 37%),
                radial-gradient(circle at 50% 50%, transparent 50%, rgba(139, 0, 255, 0.06) 51%, transparent 52%);
            animation: energyRingsPulse 4s ease-in-out infinite;
            pointer-events: none;
            z-index: 1;
        }

        @keyframes energyRingsPulse {

            0%,
            100% {
                transform: scale(1);
                opacity: 0.6;
            }

            50% {
                transform: scale(1.15);
                opacity: 1;
            }
        }

        
        .landing-lightning {
            position: absolute;
            width: 3px;
            height: 0;
            background: linear-gradient(to bottom,
                    rgba(139, 0, 255, 0) 0%,
                    rgba(139, 0, 255, 0.8) 20%,
                    rgba(255, 255, 255, 1) 50%,
                    rgba(255, 0, 60, 0.8) 80%,
                    rgba(255, 0, 60, 0) 100%);
            box-shadow:
                0 0 10px rgba(139, 0, 255, 0.8),
                0 0 20px rgba(139, 0, 255, 0.6),
                0 0 30px rgba(139, 0, 255, 0.4);
            pointer-events: none;
            z-index: 5;
            opacity: 0;
        }

        .landing-lightning-1 {
            left: 15%;
            top: -10%;
            animation: lightningStrike1 5s ease-in-out infinite;
        }

        .landing-lightning-2 {
            left: 85%;
            top: -10%;
            animation: lightningStrike2 7s ease-in-out infinite 1s;
        }

        .landing-lightning-3 {
            left: 50%;
            top: -10%;
            animation: lightningStrike3 6s ease-in-out infinite 2s;
        }

        @keyframes lightningStrike1 {

            0%,
            90%,
            100% {
                height: 0;
                opacity: 0;
            }

            91% {
                height: 120vh;
                opacity: 1;
            }

            92% {
                height: 0;
                opacity: 0;
            }

            93% {
                height: 120vh;
                opacity: 0.7;
            }

            94% {
                height: 0;
                opacity: 0;
            }
        }

        @keyframes lightningStrike2 {

            0%,
            85%,
            100% {
                height: 0;
                opacity: 0;
            }

            86% {
                height: 120vh;
                opacity: 1;
            }

            87% {
                height: 0;
                opacity: 0;
            }
        }

        @keyframes lightningStrike3 {

            0%,
            92%,
            100% {
                height: 0;
                opacity: 0;
            }

            93% {
                height: 120vh;
                opacity: 1;
            }

            94% {
                height: 0;
                opacity: 0;
            }

            95% {
                height: 120vh;
                opacity: 0.5;
            }

            96% {
                height: 0;
                opacity: 0;
            }
        }

        
        .landing-neural-net {
            position: absolute;
            inset: 0;
            background-image:
                linear-gradient(45deg, transparent 48%, rgba(139, 0, 255, 0.15) 49%, rgba(139, 0, 255, 0.15) 51%, transparent 52%),
                linear-gradient(-45deg, transparent 48%, rgba(255, 0, 60, 0.12) 49%, rgba(255, 0, 60, 0.12) 51%, transparent 52%),
                radial-gradient(circle at 20% 30%, rgba(139, 0, 255, 0.6) 0%, rgba(139, 0, 255, 0.6) 2px, transparent 2px),
                radial-gradient(circle at 80% 20%, rgba(255, 0, 60, 0.6) 0%, rgba(255, 0, 60, 0.6) 2px, transparent 2px),
                radial-gradient(circle at 70% 80%, rgba(139, 0, 255, 0.6) 0%, rgba(139, 0, 255, 0.6) 2px, transparent 2px),
                radial-gradient(circle at 30% 70%, rgba(255, 0, 60, 0.6) 0%, rgba(255, 0, 60, 0.6) 2px, transparent 2px),
                radial-gradient(circle at 50% 50%, rgba(255, 255, 255, 0.8) 0%, rgba(255, 255, 255, 0.8) 3px, transparent 3px);
            background-size:
                100% 100%,
                100% 100%,
                100% 100%,
                100% 100%,
                100% 100%,
                100% 100%,
                100% 100%;
            animation: neuralNetPulse 3s ease-in-out infinite;
            pointer-events: none;
            z-index: 2;
            opacity: 0.7;
        }

        @keyframes neuralNetPulse {

            0%,
            100% {
                opacity: 0.5;
                filter: brightness(1);
            }

            50% {
                opacity: 0.9;
                filter: brightness(1.3);
            }
        }

        
        
        

        
        @keyframes eerieFloat {

            0%,
            100% {
                transform: translateY(0) rotate(0deg);
            }

            25% {
                transform: translateY(-3px) rotate(0.3deg);
            }

            50% {
                transform: translateY(-6px) rotate(-0.3deg);
            }

            75% {
                transform: translateY(-3px) rotate(0.2deg);
            }
        }

        
        @keyframes glitchScreen {
            0% {
                transform: skewX(0) translate(0);
                filter: hue-rotate(0deg);
            }

            20% {
                transform: skewX(-2deg) translate(-2px, 0);
                filter: hue-rotate(30deg);
            }

            40% {
                transform: skewX(2deg) translate(2px, 1px);
            }

            60% {
                transform: skewX(-1deg) translate(-1px, -1px);
                filter: hue-rotate(-20deg);
            }

            80% {
                transform: skewX(1deg) translate(1px, 0);
            }

            100% {
                transform: skewX(0) translate(0);
                filter: hue-rotate(0deg);
            }
        }

        body.glitch-active {
            animation: glitchScreen 0.3s ease-in-out;
        }

        
        @keyframes bloodDrip {
            0% {
                transform: scaleY(0);
                opacity: 0;
            }

            10% {
                opacity: 0.6;
            }

            100% {
                transform: scaleY(1);
                opacity: 0;
            }
        }

        
        #render-layer {
            position: fixed;
            inset: 0;
            z-index: 0;
        }

        .vignette {
            position: fixed;
            inset: 0;
            pointer-events: none;
            z-index: 1;
            
            background: radial-gradient(circle, transparent 30%, rgba(0, 0, 0, 0.9) 100%);
        }

        .scanlines {
            position: fixed;
            inset: 0;
            pointer-events: none;
            z-index: 2;
            opacity: 0.15;
            background: linear-gradient(to bottom, rgba(128, 128, 128, 0) 50%, rgba(0, 0, 0, 0.1) 50%);
            background-size: 100% 4px;
        }

        .fx-overlay {
            position: fixed;
            inset: 0;
            z-index: 900;
            pointer-events: none;
            opacity: 0;
            transition: opacity 0.2s;
        }

        .fx-rewind {
            background: repeating-linear-gradient(0deg, transparent, transparent 2px, rgba(255, 255, 255, 0.2) 3px);
            mix-blend-mode: overlay;
        }

        .fx-freeze {
            background: rgba(0, 243, 255, 0.1);
            box-shadow: inset 0 0 100px var(--secondary);
            backdrop-filter: grayscale(100%) blur(4px);
        }

        
        #timer-panel.frozen {
            position: relative;
            animation: timerFreezeGlow 1s infinite alternate;
        }

        #timer-panel.frozen::before {
            content: '❄️ FROZEN';
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            font-family: var(--f-title);
            font-size: 0.9rem;
            color: #00f3ff;
            text-shadow: 0 0 15px #00f3ff, 0 0 30px #00f3ff;
            letter-spacing: 3px;
            z-index: 10;
            animation: freezeTextPulse 0.5s infinite alternate;
        }

        #timer-panel.frozen::after {
            content: '';
            position: absolute;
            inset: 0;
            background: #050505;
            border: 25px solid #1a0a2e;
            
            border-radius: 12px;
            box-shadow:
                0 0 0 2px #8b00ff,
                
                0 0 50px rgba(139, 0, 255, 0.5),
                
                0 0 100px rgba(106, 13, 173, 0.3),
                inset 0 0 20px rgba(0, 0, 0, 1);
            
            z-index: 5;
        }

        #timer-panel.frozen .stat-val,
        #timer-panel.frozen .stat-label,
        #timer-panel.frozen .time-bar-container {
            opacity: 0.3;
        }

        @keyframes timerFreezeGlow {
            0% {
                box-shadow: 0 0 20px rgba(0, 243, 255, 0.5), inset 0 0 15px rgba(0, 200, 255, 0.2);
            }

            100% {
                box-shadow: 0 0 40px rgba(0, 243, 255, 0.8), inset 0 0 25px rgba(0, 200, 255, 0.4);
            }
        }

        @keyframes freezeTextPulse {
            0% {
                opacity: 0.8;
                transform: translate(-50%, -50%) scale(1);
            }

            100% {
                opacity: 1;
                transform: translate(-50%, -50%) scale(1.05);
            }
        }

        
        body.is-rewinding .fx-rewind {
            opacity: 1 !important;
            animation: glitchEffect 0.2s infinite;
        }

        
        header {
            position: fixed;
            top: 0;
            width: 100%;
            padding: 20px 40px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            z-index: 9999;
            
            backdrop-filter: blur(10px);
        }

        .brand {
            font-family: var(--f-title);
            font-size: 1.4rem;
            letter-spacing: 2px;
            color: var(--primary);
            text-shadow: 0 0 10px var(--primary);
        }

        #theme-toggle {
            background: transparent;
            border: 1px solid var(--primary);
            color: var(--primary);
            width: 40px;
            height: 40px;
            border-radius: 50%;
            cursor: pointer;
            font-size: 1.2rem;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: 0.3s;
        }

        
        .toggle-controls {
            display: flex;
            gap: 12px;
            align-items: center;
            pointer-events: auto;
            
            z-index: 10000;
        }

        
        .stick {
            width: 45px;
            height: 45px;
            border-radius: 50%;
            background: radial-gradient(circle at 35% 35%, #3a3a4a, #1a1a2a, #0a0a0a);
            border: 2px solid #000;
            margin: 10px 0;
            position: relative;
            box-shadow:
                0 3px 6px rgba(0, 0, 0, 0.9),
                inset 1px 1px 3px rgba(255, 255, 255, 0.15),
                inset -1px -1px 3px rgba(0, 0, 0, 0.5);
        }

        .stick::after {
            content: '';
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            width: 15px;
            height: 15px;
            border-radius: 50%;
            background: radial-gradient(circle, #2a2a3a, #000);
            box-shadow: inset 0 1px 2px rgba(0, 0, 0, 0.8);
        }


        
        .btn-group {
            display: grid;
            grid-template-columns: repeat(3, 20px);
            grid-template-rows: repeat(3, 20px);
            gap: 4px;
            margin: 15px 0;
        }

        .btn-face {
            width: 20px;
            height: 20px;
            border-radius: 50%;
            background: radial-gradient(circle at 35% 35%, #2a2a3a, #0a0a0a);
            border: 1px solid #000;
            box-shadow:
                0 2px 4px rgba(0, 0, 0, 0.8),
                inset 1px 1px 2px rgba(255, 255, 255, 0.2);
            transition: transform 0.1s;
        }

        .btn-face:nth-child(1) {
            grid-column: 2;
            grid-row: 1;
        }

        
        .btn-face:nth-child(2) {
            grid-column: 1;
            grid-row: 2;
        }

        
        .btn-face:nth-child(3) {
            grid-column: 3;
            grid-row: 2;
        }

        
        .btn-face:nth-child(4) {
            grid-column: 2;
            grid-row: 3;
        }

        

        .btn-face:active {
            transform: translateY(1px);
            box-shadow: 0 1px 2px rgba(0, 0, 0, 0.9);
        }

        .btn-label {
            font-family: var(--f-mono);
            font-size: 0.7rem;
            color: #888;
            text-align: center;
            margin-top: auto;
            text-transform: uppercase;
            letter-spacing: 1px;
        }

        .btn-label span {
            display: block;
            font-size: 0.6rem;
            color: #666;
            margin-top: 2px;
        }

        .toggle-btn {
            position: relative;
            width: 50px;
            height: 50px;
            border-radius: 50%;
            background: rgba(0, 0, 5, 0.9);
            border: 2px solid var(--primary);
            color: var(--primary);
            cursor: pointer;
            font-size: 1.3rem;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all 0.3s ease;
            box-shadow: 0 0 15px rgba(79, 70, 229, 0.3);
            overflow: hidden;
            z-index: 1000;
            
        }

        .toggle-btn::before {
            content: '';
            position: absolute;
            inset: 3px;
            border-radius: 50%;
            border: 1px dashed rgba(79, 70, 229, 0.4);
            animation: rotateRing 10s linear infinite;
            pointer-events: none;
            
        }

        @keyframes rotateRing {
            0% {
                transform: rotate(0deg);
            }

            100% {
                transform: rotate(360deg);
            }
        }

        .toggle-btn:hover {
            background: rgba(79, 70, 229, 0.2);
            box-shadow: 0 0 30px rgba(79, 70, 229, 0.5);
            transform: scale(1.1);
        }

        .toggle-btn:active {
            transform: scale(0.95);
        }

        
        .toggle-btn.sound-off {
            border-color: var(--danger);
            color: var(--danger);
            box-shadow: 0 0 15px rgba(255, 0, 60, 0.3);
        }

        .toggle-btn.sound-off::before {
            border-color: rgba(255, 0, 60, 0.4);
            animation-direction: reverse;
        }

        
        .toggle-btn.theme-btn .icon {
            transition: transform 0.5s cubic-bezier(0.68, -0.55, 0.265, 1.55);
        }

        .toggle-btn.theme-btn:hover .icon {
            transform: rotate(180deg);
        }

        
        body.theme-dark {
            --primary: #a0a0a0 !important;
            --primary-light: #c0c0c0 !important;
            --secondary: #808080 !important;
            --dark-blue: #1a1a1a !important;
            --danger: #606060 !important;
            --green: #d0d0d0 !important;
        }

        
        body.theme-dark .toggle-btn:not(.sound-off) {
            border-color: #a0a0a0 !important;
            color: #a0a0a0 !important;
            box-shadow: 0 0 15px rgba(160, 160, 160, 0.2) !important;
        }

        body.theme-dark .switch-left {
            background: linear-gradient(145deg, #1a1a2e 0%, #0f0f1e 50%, #1a1a2e 100%) !important;
            border-top-left-radius: 35px !important;
            border-bottom-left-radius: 35px !important;
            border-top-right-radius: 8px !important;
            border-bottom-right-radius: 8px !important;
            left: -110px;
            border-left: 3px solid #0a0a15 !important;
            border-top: 2px solid rgba(255, 255, 255, 0.1) !important;
            border-bottom: 2px solid rgba(0, 0, 0, 0.5) !important;
            box-shadow:
                -8px 0 20px rgba(0, 0, 0, 0.7),
                inset 2px 2px 8px rgba(255, 255, 255, 0.1),
                inset -2px -2px 8px rgba(0, 0, 0, 0.4) !important;
        }

        body.theme-dark .toggle-btn::before {
            border-color: rgba(160, 160, 160, 0.3) !important;
        }

        body.theme-dark .brand {
            color: #c0c0c0 !important;
            text-shadow: 0 0 10px rgba(200, 200, 200, 0.5) !important;
        }

        
        body.theme-dark .tech-btn {
            color: #a0a0a0 !important;
            border-color: #a0a0a0 !important;
            box-shadow: 0 0 20px rgba(160, 160, 160, 0.2), inset 0 0 20px rgba(160, 160, 160, 0.05) !important;
        }

        body.theme-dark .tech-btn:hover {
            background: #a0a0a0 !important;
            color: #000000 !important;
        }

        
        body.theme-dark .glitch-title {
            text-shadow: 0 0 30px rgba(200, 200, 200, 0.5) !important;
            color: #ffffff !important;
        }

        
        body.theme-dark .hud-panel {
            border-color: rgba(100, 100, 100, 0.3) !important;
            background: rgba(15, 15, 15, 0.95) !important;
        }

        
        body.theme-dark .roulette-box,
        body.theme-dark .timeline-box,
        body.theme-dark .mission-log {
            border-color: rgba(100, 100, 100, 0.3) !important;
            background: rgba(15, 15, 15, 0.95) !important;
        }

        
        body.theme-dark .opt-btn {
            border-color: #606060 !important;
            color: #c0c0c0 !important;
        }

        body.theme-dark .opt-btn:hover {
            border-color: #a0a0a0 !important;
            background: rgba(160, 160, 160, 0.1) !important;
        }

        
        body.theme-dark #s-over {
            background: linear-gradient(180deg, #000000 0%, #0a0a0a 50%, #000000 100%) !important;
        }

        
        body.theme-dark .win-modal {
            background: linear-gradient(180deg, #000000 0%, #0a0a0a 50%, #000000 100%) !important;
        }

        
        body.theme-dark .share-card-wrapper {
            background: linear-gradient(135deg, #404040, #606060, #404040) !important;
        }

        
        body.theme-dark .time-bar {
            background: linear-gradient(90deg, #505050, #a0a0a0) !important;
        }

        
        body.theme-dark .vignette {
            background: radial-gradient(circle, transparent 30%, rgba(0, 0, 0, 0.95) 100%) !important;
        }

        
        .hud-panel {
            position: absolute;
            z-index: 50;
            padding: 15px 25px;
            background: var(--glass-bg);
            backdrop-filter: var(--glass-blur);
            border: var(--glass-border);
            border-radius: 8px;
            box-shadow: var(--glass-shadow);
            transition: 0.3s;
        }

        .hud-top-right {
            top: 90px;
            right: 40px;
            border-right: 4px solid var(--primary);
            text-align: right;
        }

        .stat-label {
            font-size: 0.8rem;
            color: var(--text-main);
            margin-bottom: 5px;
            letter-spacing: 2px;
            font-weight: bold;
            opacity: 0.7;
        }

        .stat-val {
            font-family: var(--f-title);
            font-size: 2.2rem;
            color: var(--primary);
        }

        
        .lives-container {
            display: flex;
            gap: 5px;
            justify-content: flex-end;
            margin-top: 5px;
        }

        .life-pip {
            width: 15px;
            height: 15px;
            background: var(--secondary);
            transform: skewX(-20deg);
            box-shadow: 0 0 10px var(--secondary);
        }

        .life-pip.lost {
            background: #333;
            box-shadow: none;
            border: 1px solid #555;
        }

        
        .freeze-container {
            position: absolute;
            bottom: 40px;
            left: 40px;
            z-index: 60;
        }

        .big-freeze-btn {
            width: 120px;
            height: 120px;
            border-radius: 50%;
            background: rgba(0, 243, 255, 0.1);
            border: 2px solid var(--secondary);
            color: var(--secondary);
            font-family: var(--f-title);
            font-size: 1.2rem;
            cursor: pointer;
            transition: 0.3s;
            box-shadow: 0 0 30px rgba(0, 243, 255, 0.2);
            backdrop-filter: blur(10px);
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            animation: pulseFreeze 3s infinite;
        }

        .big-freeze-btn span {
            font-size: 1rem;
            font-family: var(--f-mono);
            margin-top: 5px;
            opacity: 1;
            font-weight: bold;
            text-shadow: 0 0 10px var(--secondary);
        }

        .big-freeze-btn:hover {
            transform: scale(1.1);
            background: var(--secondary);
            color: black;
            box-shadow: 0 0 60px var(--secondary);
        }

        .big-freeze-btn.used {
            filter: grayscale(1);
            opacity: 0.5;
            cursor: not-allowed;
            animation: none;
        }

        @keyframes pulseFreeze {
            0% {
                box-shadow: 0 0 0 rgba(0, 243, 255, 0);
            }

            50% {
                box-shadow: 0 0 40px rgba(0, 243, 255, 0.4);
            }

            100% {
                box-shadow: 0 0 0 rgba(0, 243, 255, 0);
            }
        }

        .btn-hud-rewind {
            border-color: var(--primary);
            color: var(--primary);
            box-shadow: 0 0 30px rgba(0, 243, 255, 0.2);
            animation: pulseRewind 3s infinite;
            margin-top: 20px;
        }

        .btn-hud-rewind:hover {
            background: var(--primary);
            color: black;
            box-shadow: 0 0 60px var(--primary);
            transform: scale(1.1);
        }

        @keyframes pulseRewind {
            0% {
                box-shadow: 0 0 0 rgba(0, 243, 255, 0);
            }

            50% {
                box-shadow: 0 0 40px rgba(0, 243, 255, 0.4);
            }

            100% {
                box-shadow: 0 0 0 rgba(0, 243, 255, 0);
            }
        }

        
        .fail-modal {
            position: fixed;
            inset: 0;
            z-index: 2000;
            background: rgba(0, 0, 0, 0.9);
            backdrop-filter: blur(20px);
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            opacity: 0;
            pointer-events: none;
            transition: 0.3s;
        }

        .fail-modal.active {
            opacity: 1;
            pointer-events: all;
        }

        .fail-title {
            font-family: var(--f-title);
            font-size: 4rem;
            color: var(--danger);
            text-shadow: 0 0 40px var(--danger);
            margin-bottom: 20px;
            text-align: center;
            letter-spacing: 4px;
        }

        .fail-sub {
            font-family: var(--f-mono);
            font-size: 1.2rem;
            color: white;
            margin-bottom: 50px;
            text-align: center;
            letter-spacing: 2px;
        }

        .fail-btn-row {
            display: flex;
            gap: 40px;
        }

        .fail-btn {
            padding: 30px 60px;
            font-family: var(--f-title);
            font-size: 1.5rem;
            border: 2px solid;
            cursor: pointer;
            transition: 0.2s;
            text-transform: uppercase;
            background: transparent;
            letter-spacing: 2px;
            border-radius: 8px;
        }

        .btn-rewind {
            border-color: var(--primary);
            color: var(--primary);
            box-shadow: 0 0 30px var(--primary);
        }

        .btn-rewind:hover {
            background: var(--primary);
            color: black;
            transform: scale(1.05);
        }

        .btn-exit {
            border-color: var(--danger);
            color: var(--danger);
            box-shadow: 0 0 10px var(--danger);
        }

        .switch-btn {
            width: 110px !important;
            height: 90% !important;
            border: none !important;
            border-radius: 0 !important;
            position: absolute;
            pointer-events: auto;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: space-around;
            padding: 30px 15px !important;
            box-shadow:
                inset 3px 3px 10px rgba(255, 255, 255, 0.15),
                inset -3px -3px 10px rgba(0, 0, 0, 0.5),
                8px 8px 25px rgba(0, 0, 0, 0.6) !important;
            transition: transform 0.15s ease;
            cursor: pointer;
            z-index: 10001;
            background: none;
            animation: none !important;
            top: 0;
            bottom: 0;
            margin: auto;
        }

        .btn-exit:hover {
            background: var(--danger);
            color: white;
            transform: scale(1.05);
        }

        
        .screen {
            position: absolute;
            inset: 0;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            z-index: 10;
            opacity: 0;
            pointer-events: none;
            transition: opacity 0.6s cubic-bezier(0.22, 1, 0.36, 1);
            padding-top: 60px;
        }

        .screen.active {
            opacity: 1;
            pointer-events: all;
        }

        .hidden {
            display: none !important;
            opacity: 0 !important;
        }

        
        .glitch-title {
            font-family: var(--f-title);
            font-size: 8vw;
            color: var(--text-main);
            margin: 0;
            text-transform: uppercase;
            text-shadow: 0 0 30px var(--primary);
            animation: float 4s ease-in-out infinite, titleGlitch 8s infinite;
            position: relative;
        }

        
        .glitch-title::before,
        .glitch-title::after {
            content: attr(data-text);
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            opacity: 0.5;
        }

        .glitch-title::before {
            color: #ff4d6d;
            animation: glitchLeft 3s infinite;
            clip-path: polygon(0 0, 100% 0, 100% 35%, 0 35%);
            transform: translateX(-2px);
            text-shadow: 0 0 8px rgba(255, 77, 109, 0.4);
        }

        .glitch-title::after {
            color: #60a5fa;
            animation: glitchRight 2.5s infinite;
            clip-path: polygon(0 65%, 100% 65%, 100% 100%, 0 100%);
            transform: translateX(2px);
            text-shadow: 0 0 8px rgba(96, 165, 250, 0.4);
        }

        @keyframes float {

            0%,
            100% {
                transform: translateY(0);
            }

            50% {
                transform: translateY(-10px);
            }
        }

        @keyframes titleGlitch {

            0%,
            90%,
            100% {
                opacity: 1;
                filter: none;
            }

            91% {
                opacity: 0.8;
                filter: blur(1px);
                transform: translateY(-10px) skewX(2deg);
            }

            92% {
                opacity: 1;
                filter: none;
                transform: translateY(-10px) skewX(0);
            }

            93% {
                opacity: 0.9;
                transform: translateY(-10px) skewX(-1deg);
            }

            94% {
                opacity: 1;
                transform: translateY(-10px);
            }
        }

        @keyframes glitchLeft {

            0%,
            94%,
            100% {
                transform: translateX(-2px);
                opacity: 0;
            }

            95% {
                transform: translateX(-5px);
                opacity: 0.7;
            }

            96% {
                transform: translateX(-2px);
                opacity: 0.4;
            }

            97% {
                transform: translateX(-8px);
                opacity: 0.6;
            }

            98% {
                transform: translateX(-2px);
                opacity: 0;
            }
        }

        @keyframes glitchRight {

            0%,
            92%,
            100% {
                transform: translateX(2px);
                opacity: 0;
            }

            93% {
                transform: translateX(6px);
                opacity: 0.6;
            }

            94% {
                transform: translateX(2px);
                opacity: 0.3;
            }

            95% {
                transform: translateX(10px);
                opacity: 0.5;
            }

            96% {
                transform: translateX(2px);
                opacity: 0;
            }
        }

        .mission-log {
            font-family: var(--f-mono);
            color: var(--text-main);
            opacity: 0.8;
            background: var(--glass-bg);
            border: var(--glass-border);
            padding: 25px 40px;
            border-radius: 12px;
            margin-bottom: 40px;
            text-align: left;
            max-width: 600px;
            border-left: 3px solid var(--primary);
            box-shadow: var(--glass-shadow);
            backdrop-filter: var(--glass-blur);
        }

        .tech-btn {
            position: relative;
            z-index: 10000;
            background: rgba(0, 0, 0, 0.85);
            color: var(--primary);
            border: 2px solid var(--primary);
            padding: 22px 55px;
            font-family: var(--f-title);
            font-size: 1.3rem;
            cursor: pointer;
            text-transform: uppercase;
            transition: all 0.3s ease;
            letter-spacing: 3px;
            pointer-events: auto;
            overflow: visible;
            box-shadow: 0 0 25px rgba(139, 0, 255, 0.3), inset 0 0 15px rgba(0, 0, 0, 0.9);

            
            clip-path: polygon(4% 0%, 94% 0%, 98% 10%, 100% 30%,
                    98% 55%, 100% 80%, 92% 95%, 80% 100%,
                    12% 98%, 0% 85%, 2% 55%, 0% 25%, 5% 8%);

            animation: techGlow 2.8s ease-in-out infinite;
        }

        @keyframes techGlow {

            0%,
            100% {
                box-shadow: 0 0 25px rgba(139, 0, 255, 0.3), inset 0 0 15px rgba(0, 0, 0, 0.9);
            }

            50% {
                box-shadow: 0 0 35px rgba(0, 243, 255, 0.4), inset 0 0 20px rgba(139, 0, 255, 0.1);
            }
        }

        
        .tech-btn::before {
            content: '';
            position: absolute;
            top: -100%;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(transparent, rgba(0, 0, 0, 0.6), transparent);
            animation: btnScan 2s linear infinite;
        }

        
        .tech-btn {
            box-shadow: 0 4px 0 var(--primary-light), 0 5px 20px rgba(0, 0, 0, 0.5);
            transform: translateY(0);
        }

        .tech-btn:active {
            box-shadow: 0 0 0 var(--primary-light), 0 0 10px rgba(139, 0, 0, 0.4);
            transform: translateY(4px);
        }

        
        .skip-btn {
            position: fixed;
            bottom: 30px;
            right: 30px;
            z-index: 50000;
            padding: 15px 30px;
            font-family: var(--f-title);
            font-size: 1.1rem;
            color: #fff;
            background: linear-gradient(145deg, #1a1a1a, #0a0a0a);
            border: 2px solid var(--danger);
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275);
            text-transform: uppercase;
            letter-spacing: 2px;

            
            box-shadow:
                0 8px 0 #660000,
                0 10px 20px rgba(255, 0, 0, 0.4),
                inset 0 1px 0 rgba(255, 255, 255, 0.1),
                inset 0 -1px 0 rgba(0, 0, 0, 0.5);
            transform: translateY(0);

            
            animation: skipPulse 2s ease-in-out infinite;
        }

        .skip-btn:hover {
            background: linear-gradient(145deg, #ff0000, #cc0000);
            border-color: #fff;
            transform: translateY(-3px);
            box-shadow:
                0 11px 0 #660000,
                0 15px 30px rgba(255, 0, 0, 0.6),
                inset 0 1px 0 rgba(255, 255, 255, 0.2);
        }

        .skip-btn:active {
            transform: translateY(8px);
            box-shadow:
                0 0 0 #660000,
                0 2px 10px rgba(255, 0, 0, 0.3),
                inset 0 2px 5px rgba(0, 0, 0, 0.8);
        }

        @keyframes skipPulse {

            0%,
            100% {
                box-shadow:
                    0 8px 0 #660000,
                    0 10px 20px rgba(255, 0, 0, 0.4),
                    inset 0 1px 0 rgba(255, 255, 255, 0.1);
            }

            50% {
                box-shadow:
                    0 8px 0 #660000,
                    0 10px 30px rgba(255, 0, 0, 0.7),
                    inset 0 1px 0 rgba(255, 255, 255, 0.2);
            }
        }

        .skip-btn.hidden {
            opacity: 0;
            pointer-events: none;
            transform: translateY(100px);
        }

        
        .skip-btn::before {
            content: '⏭️ ';
            display: inline-block;
            margin-right: 5px;
        }

        .tech-btn::after {
            content: '';
            position: absolute;
            inset: 2px;
            background: repeating-linear-gradient(0deg,
                    transparent 0px,
                    transparent 3px,
                    rgba(0, 0, 0, 0.1) 3px,
                    rgba(0, 0, 0, 0.1) 5px);
            border: 1px solid rgba(139, 0, 0, 0.3);
            border-radius: 2px;
            pointer-events: none;
        }

        @keyframes btnPulse {

            0%,
            100% {
                box-shadow: 0 0 20px rgba(139, 0, 0, 0.4), inset 0 0 20px rgba(139, 0, 0, 0.2);
            }

            50% {
                box-shadow: 0 0 40px rgba(200, 0, 0, 0.6), inset 0 0 30px rgba(139, 0, 0, 0.3);
            }
        }

        @keyframes btnScan {
            0% {
                top: -100%;
            }

            100% {
                top: 100%;
            }
        }

        .tech-btn:hover {
            background: var(--primary);
            color: var(--bg-color);
            box-shadow: 0 0 60px var(--primary), 0 0 100px rgba(79, 70, 229, 0.5);
            transform: scale(1.05);
            text-shadow: 0 0 10px var(--bg-color);
        }

        .tech-btn:hover::before {
            animation: none;
            opacity: 0;
        }

        
        .tech-btn[style*="danger"] {
            box-shadow: 0 0 20px rgba(255, 0, 60, 0.3), inset 0 0 20px rgba(255, 0, 60, 0.1);
            animation: btnPulseDanger 2s infinite;
        }

        .tech-btn[style*="danger"]::before {
            background: linear-gradient(transparent, rgba(255, 0, 60, 0.4), transparent);
        }

        .tech-btn[style*="danger"]::after {
            border: 1px solid rgba(255, 0, 60, 0.3);
        }

        @keyframes btnPulseDanger {

            0%,
            100% {
                box-shadow: 0 0 20px rgba(255, 0, 60, 0.3), inset 0 0 20px rgba(255, 0, 60, 0.1);
            }

            50% {
                box-shadow: 0 0 40px rgba(255, 0, 60, 0.6), inset 0 0 30px rgba(255, 0, 60, 0.2);
            }
        }

        .tech-btn[style*="danger"]:hover {
            background: var(--danger);
            box-shadow: 0 0 60px var(--danger), 0 0 100px rgba(255, 0, 60, 0.5);
        }

        
        .made-with-love {
            position: absolute;
            bottom: 30px;
            font-family: var(--f-mono);
            font-size: 2.9rem;
            color: #666;
            width: 100%;
            text-align: center;
            pointer-events: none;
            animation: heartbeat 2s infinite ease-in-out;
            letter-spacing: 1px;
        }

        @keyframes heartbeat {

            0%,
            100% {
                opacity: 0.6;
                transform: scale(1);
            }

            50% {
                opacity: 1;
                transform: scale(1.1);
                color: var(--danger);
                text-shadow: 0 0 10px var(--danger);
            }
        }

        
        
        .power-off-anim {
            animation: powerOff 0.6s cubic-bezier(0.23, 1, 0.32, 1) forwards;
        }

        @keyframes powerOff {
            0% {
                transform: scale(1);
                filter: brightness(1) blur(0);
            }

            40% {
                transform: scale(1, 0.002);
                filter: brightness(30) blur(5px);
            }

            100% {
                transform: scale(0, 0);
                filter: brightness(0);
                opacity: 0;
            }
        }

        .game-grid {
            width: 90%;
            max-width: 900px;
            display: flex;
            flex-direction: column;
            gap: 30px;
        }

        .opt-grid {
            display: flex;
            flex-wrap: wrap;
            justify-content: center;
            gap: 20px;
            width: 100%;
        }

        .opt-btn {
            flex: 0 1 45%;
            min-width: 300px;
            padding: 25px 40px;
            background: rgba(0, 0, 0, 0.85);
            border: 3px solid var(--primary);
            color: white;
            font-family: var(--f-title);
            font-size: 1.2rem;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 0 20px rgba(139, 0, 255, 0.3);
            position: relative;
            overflow: visible;
        }

        
        .opt-btn:nth-child(1) {
            clip-path: polygon(6% 0%, 94% 2%, 100% 18%, 96% 45%,
                    98% 72%, 90% 95%, 75% 100%, 10% 98%,
                    0% 85%, 4% 58%, 2% 30%, 5% 12%);
            animation: optToggle1 2.3s ease-in-out infinite;
        }

        .opt-btn:nth-child(2) {
            clip-path: polygon(8% 2%, 92% 0%, 98% 22%, 100% 48%,
                    95% 75%, 88% 98%, 12% 100%, 2% 92%,
                    0% 68%, 5% 42%, 3% 18%, 7% 8%);
            animation: optToggle2 2.6s ease-in-out infinite;
        }

        .opt-btn:nth-child(3) {
            clip-path: polygon(10% 0%, 90% 3%, 96% 15%, 100% 40%,
                    97% 70%, 92% 90%, 80% 98%, 15% 100%,
                    3% 88%, 0% 62%, 4% 35%, 6% 15%);
            animation: optToggle3 2.9s ease-in-out infinite;
            
            margin: 15px auto 0 auto;
        }

        @keyframes optToggle1 {

            0%,
            100% {
                box-shadow: 0 0 20px rgba(139, 0, 255, 0.3);
            }

            50% {
                box-shadow: 0 0 30px rgba(255, 0, 100, 0.4);
            }
        }

        @keyframes optToggle2 {

            0%,
            100% {
                box-shadow: 0 0 20px rgba(255, 0, 100, 0.3);
            }

            50% {
                box-shadow: 0 0 30px rgba(139, 0, 255, 0.4);
            }
        }

        @keyframes optToggle3 {

            0%,
            100% {
                box-shadow: 0 0 20px rgba(0, 255, 200, 0.3);
            }

            50% {
                box-shadow: 0 0 30px rgba(139, 0, 255, 0.4);
            }
        }

        .opt-btn:hover {
            background: rgba(139, 0, 255, 0.2);
            border-color: white;
            transform: scale(1.03);
            box-shadow: 0 0 40px var(--primary);
        }

        
        .protocol-container {
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            margin-bottom: 40px;
            perspective: 1000px;
            cursor: pointer;
        }

        .protocol-trigger {
            font-family: var(--f-mono);
            color: var(--secondary);
            letter-spacing: 3px;
            padding: 10px 20px;
            border: 1px solid transparent;
            transition: 0.3s;
            position: relative;
            z-index: 20;
            text-shadow: 0 0 10px var(--secondary);
            animation: pulse-trigger 2s infinite;
        }

        @keyframes pulse-trigger {
            0% {
                opacity: 0.7;
            }

            50% {
                opacity: 1;
                text-shadow: 0 0 20px var(--secondary);
            }

            100% {
                opacity: 0.7;
            }
        }

        .protocol-container:hover .protocol-trigger {
            color: var(--primary);
            border: 1px solid var(--primary);
            background: rgba(0, 243, 255, 0.1);
            box-shadow: 0 0 30px rgba(0, 243, 255, 0.2);
            animation: none;
        }

        .mission-log {
            font-family: var(--f-mono);
            color: var(--text-main);
            background: var(--glass-bg);
            border: var(--glass-border);
            padding: 0 40px;
            
            border-radius: 12px;
            text-align: left;
            max-width: 600px;
            border-left: 3px solid var(--primary);
            box-shadow: var(--glass-shadow);
            backdrop-filter: var(--glass-blur);

            
            max-height: 0;
            opacity: 0;
            transform: rotateX(-20deg) translateY(-20px);
            transition: all 0.6s cubic-bezier(0.23, 1, 0.32, 1);
            overflow: hidden;
            pointer-events: none;
        }

        .protocol-container:hover .mission-log {
            
            max-height: 500px;
            opacity: 1;
            transform: rotateX(0deg) translateY(20px);
            padding: 25px 40px;
            pointer-events: all;
            box-shadow: 0 20px 50px rgba(0, 0, 0, 0.5);
        }

        
        .protocol-line {
            opacity: 0;
            transform: translateX(-20px);
            transition: 0.3s;
        }

        .protocol-container:hover .protocol-line {
            opacity: 1;
            transform: translateX(0);
        }

        .protocol-container:hover .protocol-line:nth-child(1) {
            transition-delay: 0.1s;
        }

        .protocol-container:hover .protocol-line:nth-child(2) {
            transition-delay: 0.2s;
        }

        .protocol-container:hover .protocol-line:nth-child(3) {
            transition-delay: 0.3s;
        }

        .protocol-container:hover .protocol-line:nth-child(4) {
            transition-delay: 0.4s;
        }

        .protocol-container:hover .protocol-line:nth-child(5) {
            transition-delay: 0.5s;
        }

        
        .outro-text {
            font-family: var(--f-title);
            font-size: 8vw;
            color: white;
            opacity: 0;
            transform: scale(0.8);
            position: absolute;
            width: 100%;
            text-align: center;
        }

        .anim-in {
            animation: outroIn 0.8s cubic-bezier(0.175, 0.885, 0.32, 1.275) forwards;
        }

        .anim-out {
            animation: outroOut 0.5s cubic-bezier(0.6, -0.28, 0.735, 0.045) forwards;
        }

        @keyframes outroIn {
            0% {
                opacity: 0;
                transform: scale(0.5);
            }

            100% {
                opacity: 1;
                transform: scale(1);
            }
        }

        @keyframes outroOut {
            0% {
                opacity: 1;
                transform: scale(1);
            }

            100% {
                opacity: 0;
                transform: scale(1.5);
            }
        }

        
        .hype-num {
            font-size: 15vw;
            font-family: var(--f-title);
            color: var(--primary);
            text-shadow: 0 0 50px var(--primary);
            animation: zoomFade 0.8s cubic-bezier(0.23, 1, 0.32, 1) forwards;
            opacity: 0;
            transform: scale(3);
        }

        .glitch-text {
            color: var(--accent);
            letter-spacing: 5px;
            text-align: center;
            margin-top: 20px;
            animation: glitchText 0.3s infinite;
        }

        @keyframes glitchText {
            0% {
                transform: translate(2px, 0);
            }

            50% {
                transform: translate(-2px, 0);
            }

            100% {
                transform: translate(2px, 0);
            }
        }

        
        .roulette-window {
            height: 120px;
            
            width: 100%;
            overflow: hidden;
            position: relative;
            
            mask-image: linear-gradient(90deg, transparent, black 20%, black 80%, transparent);
            -webkit-mask-image: linear-gradient(90deg, transparent, black 20%, black 80%, transparent);
            margin-bottom: 30px;
            display: flex;
            
            align-items: center;
        }

        .roulette-track {
            display: flex;
            flex-direction: row;
            align-items: center;
            
            padding-left: 50%;
            will-change: transform;
        }

        .roulette-item {
            flex: 0 0 180px;
            
            margin: 0 10px;
            
            height: 100px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-family: var(--f-title);
            font-size: 1.2rem;
            
            color: var(--text-main);

            
            background: rgba(0, 243, 255, 0.05);
            
            border: 1px solid rgba(0, 243, 255, 0.2);
            border-radius: 8px;
            box-shadow: 0 0 15px rgba(0, 0, 0, 0.5);

            
            opacity: 0.3;
            transform: scale(0.7);
            filter: blur(2px);
            transition: border-color 0.2s, background-color 0.2s;
            
            white-space: normal;
            
            text-align: center;
            line-height: 1.1;
            padding: 10px;
        }

        .roulette-item.locked {
            border-color: var(--primary);
            background: rgba(0, 243, 255, 0.2);
            color: var(--primary);
            box-shadow: 0 0 30px var(--primary);
            z-index: 100 !important;
        }

        
        .anomaly-mirror .q-card,
        .anomaly-mirror .opt-btn {
            transform: scaleX(-1);
        }

        .anomaly-alert {
            position: fixed;
            top: 30%;
            width: 100%;
            text-align: center;
            font-family: var(--f-title);
            font-size: 2rem;
            color: var(--danger);
            background: rgba(0, 0, 0, 0.8);
            padding: 20px;
            z-index: 9999;
            animation: flashWarn 0.5s 2 forwards;
            pointer-events: none;
            border-top: 2px solid var(--danger);
            border-bottom: 2px solid var(--danger);
        }

        @keyframes flashWarn {
            0% {
                opacity: 1;
            }

            50% {
                opacity: 0.5;
            }

            100% {
                opacity: 1;
            }
        }

        .pulse-text {
            animation: pulseTxt 0.5s infinite alternate;
            color: var(--green) !important;
            text-shadow: 0 0 10px var(--green);
        }

        @keyframes pulseTxt {
            from {
                transform: scale(1);
            }

            to {
                transform: scale(1.1);
            }
        }

        @media (max-width: 900px) {
            .opt-grid {
                grid-template-columns: 1fr;
            }

            h1.glitch-title {
                font-size: 12vw;
            }

            .roulette-box {
                min-width: 90%;
                padding: 30px;
            }

            .fail-btn-row {
                flex-direction: column;
            }

            .freeze-container {
                bottom: 20px;
                left: 20px;
            }
        }

        
        .coin-cont {
            width: 40px;
            height: 40px;
            display: inline-block;
            vertical-align: middle;
            margin-right: 10px;
            perspective: 1000px;
        }

        .retro-coin {
            width: 100%;
            height: 100%;
            background: #ffd700;
            border-radius: 50%;
            border: 4px solid #b8860b;
            box-shadow: inset 0 0 10px #fff7cc, 0 0 10px rgba(255, 215, 0, 0.7);
            position: relative;
            animation: spinCoin 3s linear infinite;
            transform-style: preserve-3d;
        }

        .retro-coin::after {
            content: '$';
            position: absolute;
            inset: 0;
            display: flex;
            align-items: center;
            justify-content: center;
            font-family: var(--f-mono);
            font-weight: bold;
            color: #b8860b;
            font-size: 1.2rem;
            transform: translateZ(1px);
        }

        @keyframes spinCoin {
            0% {
                transform: rotateY(0deg);
            }

            100% {
                transform: rotateY(360deg);
            }
        }

        .score-sparkle {
            position: absolute;
            pointer-events: none;
            animation: sparkleFloat 1s forwards;
            color: #ffd700;
            font-family: var(--f-mono);
            font-weight: bold;
            font-size: 1.5rem;
            text-shadow: 0 0 5px #fff;
        }

        @keyframes sparkleFloat {
            0% {
                opacity: 1;
                transform: translateY(0) scale(1);
            }

            100% {
                opacity: 0;
                transform: translateY(-50px) scale(0);
            }
        }

        .timer-rail {
            width: 100%;
            height: 6px;
            background: rgba(128, 128, 128, 0.2);
            border-radius: 3px;
            overflow: hidden;
        }

        .timer-fill {
            width: 100%;
            height: 100%;
            background: var(--primary);
            box-shadow: 0 0 15px var(--primary);
            transition: width 0.1s linear, background 0.3s;
        }

        .q-card {
            background: var(--glass-bg);
            backdrop-filter: var(--glass-blur);
            padding: 50px;
            text-align: center;
            border-radius: 16px;
            border: var(--glass-border);
            position: relative;
            box-shadow: var(--glass-shadow);
            
            border: 2px solid var(--primary);
            background: rgba(0, 0, 0, 0.85);
            
            box-shadow: 0 0 40px rgba(139, 0, 0, 0.3);
        }

        .era-tag {
            font-family: var(--f-title);
            color: var(--secondary);
            font-size: 1.5rem;
            margin-bottom: 20px;
            display: block;
            letter-spacing: 4px;
            opacity: 0.8;
        }

        .q-text {
            font-size: 2rem;
            line-height: 1.4;
            color: var(--text-main);
            font-weight: bold;
        }

        .opt-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 20px;
        }

        .opt-btn {
            background: rgba(0, 0, 0, 0.8);
            border: 2px solid var(--primary);
            
            padding: 30px;
            font-family: var(--f-ui);
            font-size: 1.4rem;
            
            color: var(--text-main);
            cursor: pointer;
            transition: all 0.2s cubic-bezier(0.175, 0.885, 0.32, 1.275);
            
            text-align: center;
            border-radius: 8px;

            
            box-shadow:
                0 0 0 var(--primary-dark),
                0 10px 20px rgba(0, 0, 0, 0.5),
                inset 0 0 20px rgba(255, 0, 0, 0.1);
            transform: perspective(500px) translate3d(0, 0, 0);
        }

        .opt-btn:hover {
            background: rgba(20, 0, 0, 0.9);
            border-color: var(--primary-light);
            color: white;
            
            transform: perspective(500px) translate3d(0, -10px, 30px);
            box-shadow:
                0 15px 30px rgba(255, 0, 0, 0.3),
                0 0 15px var(--primary);
            z-index: 10;
        }

        .opt-btn:active {
            
            transform: perspective(500px) translate3d(0, 2px, 0);
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.5);
            transition: 0.1s;
        }

        
        .roulette-box {
            background: var(--glass-bg);
            padding: 60px;
            border: var(--glass-border);
            text-align: center;
            border-radius: 16px;
            min-width: 500px;
            box-shadow: var(--glass-shadow);
            backdrop-filter: var(--glass-blur);
        }

        #roulette-display {
            font-family: var(--f-title);
            font-size: 3.5rem;
            color: var(--primary);
            margin: 40px 0;
            text-shadow: 0 0 20px var(--primary);
            min-height: 80px;
        }

        .locked-topic {
            animation: flashLock 0.5s;
            color: var(--accent) !important;
            text-shadow: 0 0 40px var(--accent) !important;
            scale: 1.2;
            transition: 0.3s;
        }

        @keyframes flashLock {
            0% {
                transform: scale(1);
            }

            50% {
                transform: scale(1.2);
                filter: brightness(2);
            }

            100% {
                transform: scale(1);
            }
        }

        .timeline-box {
            background: var(--glass-bg);
            padding: 50px;
            border: var(--glass-border);
            text-align: center;
            max-width: 700px;
            border-radius: 16px;
            box-shadow: var(--glass-shadow);
            border-top: 3px solid var(--primary);
        }

        .btn-row {
            display: flex;
            gap: 30px;
            justify-content: center;
            margin-top: 30px;
        }

        
        .share-card {
            margin-bottom: 30px;
            border: 4px solid var(--primary);
            width: 320px;
            height: 480px;
            position: relative;
            background: #000;
            box-shadow: 0 0 60px rgba(0, 0, 0, 0.5);
        }

        .controls {
            display: flex;
            flex-direction: column;
            gap: 15px;
            width: 300px;
        }

        
        body.is-rewinding {
            animation: vhs-glitch 0.2s infinite;
            filter: invert(1) hue-rotate(180deg);
        }

        body.is-rewinding .fx-rewind {
            opacity: 1;
        }

        @keyframes vhs-glitch {
            0% {
                transform: translate(2px, 0);
            }

            20% {
                transform: translate(-2px, 0);
            }

            40% {
                transform: translate(1px, 1px);
            }

            60% {
                transform: translate(-1px, -1px);
            }
        }

        body.is-frozen .fx-freeze {
            opacity: 1;
        }

        body.paradox-hit {
            animation: chromaticPulse 0.3s ease-out;
        }

        @keyframes chromaticPulse {
            0% {
                transform: scale(1);
                text-shadow: none;
                filter: brightness(1);
            }

            50% {
                transform: scale(1.02);
                text-shadow: 3px 0 var(--danger), -3px 0 var(--primary);
                filter: brightness(1.2);
            }

            100% {
                transform: scale(1);
                text-shadow: none;
                filter: brightness(1);
            }
        }

        @media (max-width: 900px) {
            .opt-grid {
                grid-template-columns: 1fr;
            }

            h1.glitch-title {
                font-size: 15vw;
                
            }

            .roulette-box {
                min-width: 90%;
                padding: 30px;
            }

            .fail-btn-row {
                flex-direction: column;
                gap: 20px;
            }

            .freeze-container {
                bottom: 20px;
                left: 20px;
            }

            
            .hud-top-right {
                top: auto;
                bottom: 20px;
                
                right: 20px;
                background: rgba(0, 0, 0, 0.8);
            }

            .big-freeze-btn {
                width: 80px;
                height: 80px;
                font-size: 0.9rem;
            }

            
            .tech-btn,
            .opt-btn {
                min-height: 60px;
                
            }

            .outro-text {
                font-size: 12vw;
            }
        }

        @media (max-width: 450px) {
            .mission-log {
                font-size: 0.8rem;
                padding: 15px;
            }

            .hud-panel {
                transform: scale(0.9);
                transform-origin: bottom right;
            }
        }

        
        .mobile-blocker {
            position: fixed;
            inset: 0;
            z-index: 99999;
            background: linear-gradient(180deg, #000005 0%, #0a0a1a 50%, #000005 100%);
            display: none;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            text-align: center;
            padding: 40px;
        }

        .mobile-blocker.active {
            display: flex;
        }

        .mobile-blocker h1 {
            font-family: var(--f-title);
            font-size: 1.8rem;
            color: var(--danger);
            margin-bottom: 20px;
            text-shadow: 0 0 20px var(--danger);
        }

        .mobile-blocker p {
            font-family: var(--f-mono);
            color: var(--text-dim);
            max-width: 350px;
            line-height: 1.6;
        }

        .mobile-blocker .desktop-icon {
            font-size: 5rem;
            margin-top: 30px;
            animation: float 3s ease-in-out infinite;
        }

        
        .luck-container {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 30px;
        }

        .luck-slots {
            display: flex;
            gap: 20px;
        }

        .luck-slot {
            width: 100px;
            height: 130px;
            background: var(--glass-bg);
            border: 2px solid var(--primary);
            border-radius: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-family: var(--f-title);
            font-size: 2.5rem;
            color: var(--primary);
            box-shadow: 0 0 20px rgba(79, 70, 229, 0.3), inset 0 0 30px rgba(0, 0, 0, 0.5);
            transition: all 0.3s ease;
        }

        .luck-slot.spinning {
            animation: slotGlow 0.15s infinite alternate;
        }

        .luck-slot.selected {
            border-color: var(--green);
            color: var(--green);
            box-shadow: 0 0 40px rgba(57, 255, 20, 0.5), inset 0 0 20px rgba(57, 255, 20, 0.1);
            transform: scale(1.1);
        }

        @keyframes slotGlow {
            0% {
                box-shadow: 0 0 20px rgba(79, 70, 229, 0.3);
            }

            100% {
                box-shadow: 0 0 40px rgba(79, 70, 229, 0.6);
            }
        }

        .luck-result {
            font-family: var(--f-title);
            font-size: 1.8rem;
            color: var(--primary);
            text-align: center;
            min-height: 100px;
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 10px;
        }

        .luck-result .mode-desc {
            font-family: var(--f-mono);
            font-size: 1rem;
            color: var(--text-dim);
        }

        .luck-box {
            background: var(--glass-bg);
            padding: 50px;
            border: var(--glass-border);
            text-align: center;
            border-radius: 16px;
            box-shadow: var(--glass-shadow);
            backdrop-filter: var(--glass-blur);
        }

        
        body.mode-dream {
            animation: dreamPulse 3s infinite alternate;
        }

        body.mode-dream .game-grid {
            filter: hue-rotate(15deg) saturate(1.1);
        }

        body.mode-dream .q-card {
            animation: dreamGlitchSubtle 5s infinite;
        }

        @keyframes dreamPulse {
            0% {
                filter: brightness(1) saturate(1);
            }

            100% {
                filter: brightness(1.05) saturate(1.15);
            }
        }

        @keyframes dreamGlitchSubtle {

            0%,
            95%,
            100% {
                transform: translate(0);
            }

            96% {
                transform: translate(-2px, 1px);
            }

            97% {
                transform: translate(2px, -1px);
            }

            98% {
                transform: translate(-1px, -1px);
            }

            99% {
                transform: translate(1px, 1px);
            }
        }

        .dream-overlay {
            position: fixed;
            inset: 0;
            z-index: 5000;
            background: rgba(0, 0, 0, 0.97);
            display: none;
            flex-direction: column;
            justify-content: center;
            align-items: center;
        }

        .dream-overlay.active {
            display: flex;
        }

        .dream-text {
            font-family: var(--f-title);
            font-size: 3.5rem;
            color: var(--primary);
            animation: dreamTextGlow 1.5s infinite alternate;
            text-align: center;
        }

        .dream-subtext {
            font-family: var(--f-mono);
            color: var(--text-dim);
            margin-top: 20px;
            font-size: 1.2rem;
        }

        @keyframes dreamTextGlow {
            0% {
                text-shadow: 0 0 20px var(--primary);
                opacity: 0.7;
            }

            100% {
                text-shadow: 0 0 60px var(--primary), 0 0 100px var(--primary);
                opacity: 1;
            }
        }


        
        .win-modal {
            position: fixed;
            inset: 0;
            z-index: 2000;
            background:
                
                radial-gradient(ellipse at 50% 50%, transparent 30%, rgba(0, 0, 0, 0.7) 60%, rgba(0, 0, 0, 0.95) 80%, #000000 100%),
                
                repeating-radial-gradient(circle at 50% 50%,
                    transparent 0px,
                    transparent 60px,
                    rgba(57, 255, 20, 0.04) 62px,
                    transparent 64px,
                    transparent 120px,
                    rgba(0, 243, 255, 0.03) 122px,
                    transparent 124px),
                
                repeating-conic-gradient(from 0deg at 50% 50%,
                    transparent 0deg,
                    rgba(57, 255, 20, 0.02) 1deg,
                    transparent 2deg,
                    transparent 30deg),
                
                radial-gradient(ellipse at 50% 50%, rgba(57, 255, 20, 0.15) 0%, transparent 40%),
                
                linear-gradient(180deg, #000502 0%, #000805 30%, #000503 70%, #000000 100%);
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            opacity: 0;
            pointer-events: none;
            transition: 0.5s;
        }

        
        .win-modal::before {
            content: '';
            position: fixed;
            top: 50%;
            left: 50%;
            width: 200vmax;
            height: 200vmax;
            transform: translate(-50%, -50%);
            background:
                
                repeating-radial-gradient(circle at center,
                    transparent 0px,
                    transparent 100px,
                    rgba(57, 255, 20, 0.06) 102px,
                    transparent 106px,
                    transparent 200px,
                    rgba(0, 255, 136, 0.05) 202px,
                    transparent 206px,
                    transparent 300px,
                    rgba(0, 243, 255, 0.04) 302px,
                    transparent 306px);
            animation: timeExpandWin 8s linear infinite;
            pointer-events: none;
            z-index: 1;
        }

        
        .win-modal::after {
            content: '';
            position: fixed;
            top: 50%;
            left: 50%;
            width: 200vmax;
            height: 200vmax;
            transform: translate(-50%, -50%);
            background:
                
                conic-gradient(from 0deg at 50% 50%,
                    transparent 0deg,
                    rgba(57, 255, 20, 0.15) 2deg,
                    transparent 4deg,
                    transparent 360deg),
                
                conic-gradient(from 90deg at 50% 50%,
                    transparent 0deg,
                    rgba(0, 243, 255, 0.1) 1deg,
                    transparent 3deg,
                    transparent 360deg);
            animation: clockHandsWin 20s linear infinite;
            pointer-events: none;
            z-index: 2;
        }

        
        @keyframes timeExpandWin {
            0% {
                transform: translate(-50%, -50%) scale(1) rotate(0deg);
            }

            100% {
                transform: translate(-50%, -50%) scale(1.2) rotate(30deg);
            }
        }

        
        @keyframes clockHandsWin {
            0% {
                transform: translate(-50%, -50%) rotate(0deg);
            }

            100% {
                transform: translate(-50%, -50%) rotate(360deg);
            }
        }

        .win-modal.active {
            opacity: 1;
            pointer-events: all;
        }

        .win-title {
            font-family: var(--f-title);
            font-size: 5rem;
            color: var(--green);
            text-shadow:
                0 0 20px var(--green),
                0 0 40px var(--green),
                0 0 80px rgba(57, 255, 20, 0.5),
                0 2px 0 rgba(0, 255, 136, 0.8),
                0 -2px 0 rgba(0, 243, 255, 0.8);
            animation: winPulse 2s infinite, holoFlicker 0.1s infinite;
            text-align: center;
            position: relative;
            z-index: 10;
        }

        @keyframes holoFlicker {

            0%,
            100% {
                opacity: 1;
            }

            92% {
                opacity: 1;
            }

            93% {
                opacity: 0.8;
            }

            94% {
                opacity: 1;
            }
        }

        .win-subtitle {
            font-family: var(--f-mono);
            font-size: 1.5rem;
            color: white;
            margin-bottom: 50px;
            opacity: 0.8;
            text-align: center;
            position: relative;
            z-index: 10;
        }

        .stats-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 30px;
            margin-bottom: 50px;
            position: relative;
            z-index: 10;
        }

        .stat-box {
            background: var(--glass-bg);
            border: var(--glass-border);
            padding: 25px 40px;
            border-radius: 12px;
            text-align: center;
        }

        .stat-box .stat-label {
            margin-bottom: 10px;
        }

        .stat-box .stat-value {
            font-family: var(--f-title);
            font-size: 2.5rem;
            color: var(--primary);
        }

        @keyframes winPulse {

            0%,
            100% {
                text-shadow: 0 0 30px var(--green), 0 0 60px rgba(57, 255, 20, 0.3);
            }

            50% {
                text-shadow: 0 0 60px var(--green), 0 0 100px var(--green), 0 0 150px rgba(57, 255, 20, 0.5);
            }
        }

        
        #s-over {
            background:
                
                radial-gradient(ellipse at 50% 50%, transparent 30%, rgba(0, 0, 0, 0.7) 60%, rgba(0, 0, 0, 0.95) 80%, #000000 100%),
                
                repeating-radial-gradient(circle at 50% 50%,
                    transparent 0px,
                    transparent 60px,
                    rgba(79, 70, 229, 0.05) 62px,
                    transparent 64px,
                    transparent 120px,
                    rgba(30, 27, 75, 0.08) 122px,
                    transparent 124px),
                
                repeating-conic-gradient(from 0deg at 50% 50%,
                    transparent 0deg,
                    rgba(79, 70, 229, 0.03) 1deg,
                    transparent 2deg,
                    transparent 30deg),
                
                radial-gradient(ellipse at 50% 50%, rgba(79, 70, 229, 0.1) 0%, transparent 35%),
                
                linear-gradient(180deg, #000002 0%, #03031a 30%, #05051a 50%, #03031a 70%, #000000 100%) !important;
            position: absolute;
            inset: 0;
        }

        
        #s-over::before {
            content: '';
            position: fixed;
            top: 50%;
            left: 50%;
            width: 200vmax;
            height: 200vmax;
            transform: translate(-50%, -50%);
            background:
                
                repeating-radial-gradient(circle at center,
                    transparent 0px,
                    transparent 100px,
                    rgba(79, 70, 229, 0.06) 102px,
                    transparent 106px,
                    transparent 200px,
                    rgba(129, 140, 248, 0.04) 202px,
                    transparent 206px,
                    transparent 300px,
                    rgba(30, 27, 75, 0.05) 302px,
                    transparent 306px);
            animation: timeCollapseLose 10s linear infinite;
            pointer-events: none;
            z-index: 1;
        }

        
        #s-over::after {
            content: '';
            position: fixed;
            top: 50%;
            left: 50%;
            width: 200vmax;
            height: 200vmax;
            transform: translate(-50%, -50%);
            background:
                
                conic-gradient(from 0deg at 50% 50%,
                    transparent 0deg,
                    rgba(79, 70, 229, 0.15) 2deg,
                    transparent 4deg,
                    transparent 360deg),
                
                conic-gradient(from 180deg at 50% 50%,
                    transparent 0deg,
                    rgba(129, 140, 248, 0.1) 1deg,
                    transparent 3deg,
                    transparent 360deg);
            animation: clockHandsLose 15s linear infinite reverse;
            pointer-events: none;
            z-index: 2;
        }

        
        @keyframes timeCollapseLose {
            0% {
                transform: translate(-50%, -50%) scale(1.2) rotate(30deg);
            }

            100% {
                transform: translate(-50%, -50%) scale(1) rotate(0deg);
            }
        }

        
        @keyframes clockHandsLose {
            0% {
                transform: translate(-50%, -50%) rotate(0deg);
            }

            100% {
                transform: translate(-50%, -50%) rotate(360deg);
            }
        }

        
        #s-over .game-over-container {
            position: relative;
            z-index: 10;
        }

        
        .time-bar.danger {
            background: var(--danger) !important;
            animation: timerPulse 0.3s infinite;
        }

        
        body.time-critical {
            animation: screenShake 0.1s infinite;
        }

        body.time-critical .vignette {
            background: radial-gradient(circle, transparent 20%, rgba(255, 0, 60, 0.4) 100%);
        }

        @keyframes screenShake {
            0% {
                transform: translate(1px, 1px);
            }

            25% {
                transform: translate(-1px, 0px);
            }

            50% {
                transform: translate(0px, -1px);
            }

            75% {
                transform: translate(-1px, 1px);
            }

            100% {
                transform: translate(1px, -1px);
            }
        }

        @keyframes timerPulse {

            0%,
            100% {
                opacity: 1;
            }

            50% {
                opacity: 0.6;
            }
        }

        @keyframes powerPopup {
            0% {
                opacity: 0;
                transform: translate(-50%, -50%) scale(0.5);
            }

            20% {
                opacity: 1;
                transform: translate(-50%, -50%) scale(1.2);
            }

            80% {
                opacity: 1;
                transform: translate(-50%, -50%) scale(1);
            }

            100% {
                opacity: 0;
                transform: translate(-50%, -50%) translateY(-50px);
            }
        }

        
        .heartbeat-vignette {
            position: fixed;
            inset: 0;
            pointer-events: none;
            z-index: 1050;
            border: 0 solid rgba(255, 0, 60, 0);
            box-shadow: inset 0 0 0 rgba(255, 0, 60, 0);
        }

        .heartbeat-vignette.pulse {
            animation: heartbeatVignettePulse var(--heartbeat-speed, 0.43s) ease-out forwards;
        }

        @keyframes heartbeatVignettePulse {
            0% {
                border-width: 0;
                box-shadow: inset 0 0 0 rgba(255, 0, 60, 0);
            }

            15% {
                border-width: 10px;
                border-color: rgba(255, 0, 60, 0.9);
                box-shadow: inset 0 0 120px rgba(255, 0, 60, 0.5);
            }

            30% {
                border-width: 5px;
                border-color: rgba(255, 0, 60, 0.6);
                box-shadow: inset 0 0 70px rgba(255, 0, 60, 0.3);
            }

            45% {
                border-width: 8px;
                border-color: rgba(255, 0, 60, 0.7);
                box-shadow: inset 0 0 90px rgba(255, 0, 60, 0.4);
            }

            100% {
                border-width: 0;
                box-shadow: inset 0 0 0 rgba(255, 0, 60, 0);
            }
        }

        
        body.deaths-door {
            filter: grayscale(1) contrast(1.4) brightness(0.7);
            transition: filter 0.1s ease-out;
        }

        body.deaths-door * {
            animation-play-state: paused !important;
        }

        body.deaths-door .opt-btn {
            animation-play-state: running !important;
            transition: all 0.1s !important;
        }

        body.deaths-door .vignette {
            background: radial-gradient(circle, transparent 0%, rgba(0, 0, 0, 0.98) 70%) !important;
        }

        body.deaths-door::before {
            content: '⏳ LAST BREATH ⏳';
            position: fixed;
            top: 12%;
            left: 50%;
            transform: translateX(-50%);
            font-family: var(--f-title);
            font-size: 3.5rem;
            color: rgba(255, 0, 60, 1);
            text-shadow: 0 0 40px rgba(255, 0, 60, 0.9), 0 0 80px rgba(255, 0, 60, 0.6);
            z-index: 2500;
            animation: lastBreathText 0.5s ease-out forwards;
            letter-spacing: 8px;
            pointer-events: none;
        }

        @keyframes lastBreathText {
            0% {
                opacity: 0;
                transform: translateX(-50%) scale(2.5);
            }

            40% {
                opacity: 1;
                transform: translateX(-50%) scale(1);
            }

            100% {
                opacity: 1;
                transform: translateX(-50%) scale(1);
            }
        }

        
        .clutch-save-overlay {
            position: fixed;
            inset: 0;
            z-index: 2600;
            pointer-events: none;
            display: flex;
            justify-content: center;
            align-items: center;
            opacity: 0;
        }

        .clutch-save-overlay.active {
            animation: clutchFlash 1.5s ease-out forwards;
        }

        .clutch-save-text {
            font-family: var(--f-title);
            font-size: 5rem;
            color: var(--green);
            text-shadow: 0 0 50px var(--green), 0 0 100px var(--green), 0 0 150px var(--green);
            letter-spacing: 8px;
            animation: clutchTextPop 1s cubic-bezier(0.175, 0.885, 0.32, 1.275) forwards;
        }

        @keyframes clutchFlash {
            0% {
                opacity: 0;
                background: rgba(57, 255, 20, 0);
            }

            15% {
                opacity: 1;
                background: rgba(57, 255, 20, 0.4);
            }

            40% {
                background: rgba(57, 255, 20, 0.15);
            }

            100% {
                opacity: 0;
                background: rgba(57, 255, 20, 0);
            }
        }

        @keyframes clutchTextPop {
            0% {
                opacity: 0;
                transform: scale(0.2) rotate(-10deg);
            }

            50% {
                opacity: 1;
                transform: scale(1.3) rotate(3deg);
            }

            75% {
                transform: scale(0.9) rotate(-2deg);
            }

            100% {
                opacity: 1;
                transform: scale(1) rotate(0deg);
            }
        }

        
        .screen-crack-overlay {
            position: fixed;
            inset: 0;
            pointer-events: none;
            z-index: 1100;
            opacity: 0;
            background:
                radial-gradient(ellipse at 30% 40%, transparent 0%, transparent 20%, rgba(255, 0, 60, 0.1) 21%, transparent 22%),
                radial-gradient(ellipse at 70% 60%, transparent 0%, transparent 15%, rgba(255, 0, 60, 0.1) 16%, transparent 17%),
                linear-gradient(45deg, transparent 48%, rgba(255, 255, 255, 0.1) 49%, rgba(255, 255, 255, 0.1) 51%, transparent 52%),
                linear-gradient(-45deg, transparent 48%, rgba(255, 255, 255, 0.08) 49%, rgba(255, 255, 255, 0.08) 51%, transparent 52%),
                linear-gradient(30deg, transparent 45%, rgba(255, 255, 255, 0.05) 46%, transparent 54%);
            background-size: 100% 100%, 100% 100%, 200% 200%, 200% 200%, 300% 300%;
            transition: opacity 0.3s;
        }

        .screen-crack-overlay.cracked {
            opacity: 1;
            animation: crackAppear 0.5s ease-out forwards;
        }

        @keyframes crackAppear {
            0% {
                opacity: 0;
                transform: scale(0.95);
            }

            50% {
                opacity: 1;
                transform: scale(1.02);
            }

            100% {
                opacity: 0.7;
                transform: scale(1);
            }
        }

        
        .roulette-item {
            animation: floatDrift 4s ease-in-out infinite;
            animation-delay: calc(var(--float-delay, 0) * 0.3s);
        }

        .roulette-item:nth-child(odd) {
            animation-duration: 4.5s;
            animation-direction: alternate-reverse;
        }

        .roulette-item:hover {
            animation: none !important;
            transform: scale(1.5) !important;
            opacity: 1 !important;
            filter: blur(0) brightness(1.3) !important;
            border-color: var(--primary) !important;
            background: rgba(0, 243, 255, 0.3) !important;
            box-shadow: 0 0 50px var(--primary), 0 0 100px rgba(0, 243, 255, 0.5) !important;
            z-index: 200 !important;
            transition: all 0.15s cubic-bezier(0.175, 0.885, 0.32, 1.275) !important;
        }

        @keyframes floatDrift {

            0%,
            100% {
                transform: translateY(0) scale(var(--item-scale, 0.7));
            }

            50% {
                transform: translateY(-8px) scale(var(--item-scale, 0.7));
            }
        }

        
        .kia-stamp {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%) scale(3) rotate(-15deg);
            font-family: var(--f-title);
            font-size: 3rem;
            color: rgba(255, 0, 60, 0.9);
            text-shadow: 0 0 10px rgba(255, 0, 60, 0.5);
            border: 4px solid rgba(255, 0, 60, 0.9);
            padding: 10px 25px;
            letter-spacing: 10px;
            opacity: 0;
            pointer-events: none;
            z-index: 100;
        }

        .kia-stamp.stamped {
            animation: stampSlam 0.6s cubic-bezier(0.175, 0.885, 0.32, 1.275) forwards;
        }

        @keyframes stampSlam {
            0% {
                opacity: 0;
                transform: translate(-50%, -50%) scale(4) rotate(-25deg);
            }

            60% {
                opacity: 1;
                transform: translate(-50%, -50%) scale(0.9) rotate(-12deg);
            }

            80% {
                transform: translate(-50%, -50%) scale(1.05) rotate(-14deg);
            }

            100% {
                opacity: 1;
                transform: translate(-50%, -50%) scale(1) rotate(-15deg);
            }
        }

        

        .game-over-container {
            display: flex;
            gap: 40px;
            align-items: flex-start;
            justify-content: center;
            flex-wrap: wrap;
            padding: 20px;
            max-width: 900px;
        }

        .share-card-wrapper {
            padding: 6px;
            background: linear-gradient(135deg,
                    #ffd700 0%, #ffed4e 25%, #fff9a6 50%, #ffed4e 75%, #ffd700 100%);
            background-size: 200% 200%;
            animation: goldenShimmer 3s ease-in-out infinite;
            border-radius: 16px;
            box-shadow:
                0 0 40px rgba(255, 215, 0, 0.6),
                0 0 80px rgba(255, 215, 0, 0.4),
                inset 0 0 60px rgba(255, 255, 255, 0.3);
            position: relative;
            overflow: visible;
        }

        
        .share-card-wrapper::before {
            content: '';
            position: absolute;
            inset: -4px;
            background: radial-gradient(circle at 20% 50%, rgba(255, 255, 255, 0.8) 0%, transparent 3%),
                radial-gradient(circle at 80% 30%, rgba(255, 255, 255, 0.6) 0%, transparent 2%),
                radial-gradient(circle at 50% 80%, rgba(255, 255, 255, 0.7) 0%, transparent 3%),
                radial-gradient(circle at 90% 90%, rgba(255, 255, 255, 0.5) 0%, transparent 2%);
            animation: glitterFloat 4s ease-in-out infinite;
            pointer-events: none;
            border-radius: 16px;
        }

        @keyframes goldenShimmer {

            0%,
            100% {
                background-position: 0% 50%;
            }

            50% {
                background-position: 100% 50%;
            }
        }

        @keyframes glitterFloat {

            0%,
            100% {
                opacity: 0.6;
                transform: translateY(0);
            }

            50% {
                opacity: 1;
                transform: translateY(-5px);
            }
        }

        .share-card {
            position: relative;
            width: 280px;
            height: 380px;
            background: #000;
            border-radius: 8px;
            overflow: hidden;
        }

        .controls-panel {
            display: flex;
            flex-direction: column;
            gap: 12px;
            min-width: 280px;
            max-width: 320px;
        }

        .control-row {
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .name-row input {
            flex: 1;
            padding: 12px 15px;
            background: transparent;
            border: none;
            border-bottom: 1px solid #444;
            color: white;
            font-family: var(--f-title);
            font-size: 1.1rem;
            letter-spacing: 2px;
            outline: none;
            text-transform: uppercase;
        }

        .name-row input::placeholder {
            color: #666;
            text-transform: uppercase;
        }

        .name-row input:focus {
            border-bottom-color: var(--green);
        }

        .control-btn {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
            padding: 14px 20px;
            background: rgba(255, 255, 255, 0.05);
            border: 1px solid #444;
            color: white;
            font-family: var(--f-mono);
            font-size: 0.95rem;
            letter-spacing: 1px;
            cursor: pointer;
            transition: all 0.2s;
            border-radius: 4px;
        }

        .control-btn:hover {
            background: rgba(255, 255, 255, 0.1);
            border-color: var(--primary);
            box-shadow: 0 0 15px rgba(0, 243, 255, 0.2);
        }

        .upload-btn {
            text-align: center;
        }

        .reboot-btn {
            background: rgba(0, 243, 255, 0.1);
            border-color: var(--primary);
            color: var(--primary);
            font-family: var(--f-title);
            margin-top: 5px;
        }

        .reboot-btn:hover {
            background: var(--primary);
            color: black;
            box-shadow: 0 0 20px var(--primary);
        }

        .share-message-box {
            background: rgba(0, 255, 102, 0.05);
            border: 1px solid rgba(0, 255, 102, 0.2);
            padding: 15px;
            border-radius: 4px;
            text-align: center;
        }

        
        .rating-section {
            padding: 12px 0;
            text-align: center;
        }

        .star-rating {
            display: flex;
            justify-content: center;
            gap: 5px;
        }

        .star {
            font-size: 1.8rem;
            color: #333;
            cursor: pointer;
            transition: all 0.15s;
            text-shadow: none;
        }

        .star:hover,
        .star.hovered {
            color: #ffd700;
            transform: scale(1.2);
            text-shadow: 0 0 10px #ffd700;
        }

        .star.active {
            color: #ffd700;
            text-shadow: 0 0 15px #ffd700;
        }

        
        .feedback-section {
            display: flex;
            flex-direction: column;
            gap: 8px;
        }

        .feedback-section textarea {
            width: 100%;
            height: 70px;
            padding: 12px;
            background: rgba(255, 255, 255, 0.05);
            border: 1px solid #333;
            border-radius: 4px;
            color: white;
            font-family: var(--f-mono);
            font-size: 0.85rem;
            resize: none;
            outline: none;
            transition: border-color 0.2s;
        }

        .feedback-section textarea::placeholder {
            color: #555;
        }

        .feedback-section textarea:focus {
            border-color: var(--primary);
        }

        .send-feedback-btn {
            position: relative;
            padding: 16px 28px;
            background: linear-gradient(135deg, rgba(153, 51, 255, 0.2), rgba(57, 255, 20, 0.2));
            border: 2px solid transparent;
            border-image: linear-gradient(135deg, #9933ff, #39ff14) 1;
            color: white;
            font-family: var(--f-title);
            font-size: 1rem;
            letter-spacing: 2px;
            cursor: pointer;
            border-radius: 8px;
            transition: all 0.3s ease;
            overflow: hidden;
            animation: feedbackPulse 2s infinite;
        }

        .send-feedback-btn::before {
            content: '';
            position: absolute;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            background: linear-gradient(45deg, transparent, rgba(255, 255, 255, 0.1), transparent);
            transform: rotate(45deg);
            animation: shimmer 3s infinite;
        }

        @keyframes shimmer {
            0% {
                transform: translateX(-100%) rotate(45deg);
            }

            100% {
                transform: translateX(100%) rotate(45deg);
            }
        }

        @keyframes feedbackPulse {

            0%,
            100% {
                box-shadow: 0 0 15px rgba(153, 51, 255, 0.4), 0 0 30px rgba(57, 255, 20, 0.2);
            }

            50% {
                box-shadow: 0 0 25px rgba(153, 51, 255, 0.6), 0 0 50px rgba(57, 255, 20, 0.4);
            }
        }

        .send-feedback-btn:hover {
            transform: scale(1.05) translateY(-2px);
            background: linear-gradient(135deg, rgba(153, 51, 255, 0.4), rgba(57, 255, 20, 0.4));
            box-shadow: 0 0 40px rgba(153, 51, 255, 0.6), 0 0 60px rgba(57, 255, 20, 0.4), 0 10px 30px rgba(0, 0, 0, 0.3);
        }

        .send-feedback-btn:active {
            transform: scale(0.98);
        }

        .send-feedback-btn:disabled {
            opacity: 0.5;
            cursor: not-allowed;
            animation: none;
        }

        .send-feedback-btn.sent {
            background: linear-gradient(135deg, #39ff14, #00ff88);
            color: black;
            font-weight: bold;
            animation: none;
            box-shadow: 0 0 30px rgba(57, 255, 20, 0.6);
        }

        
        .ach-card.tier-common {
            border: 1px solid #cd7f32;
            box-shadow: 0 0 5px rgba(205, 127, 50, 0.3);
        }

        .ach-card.tier-common .ach-card-icon {
            text-shadow: 0 0 5px #cd7f32;
        }

        .ach-card.tier-rare {
            border: 1px solid silver;
            background: linear-gradient(135deg, rgba(192, 192, 192, 0.1), transparent);
            box-shadow: 0 0 10px rgba(192, 192, 192, 0.4);
        }

        .ach-card.tier-rare .ach-card-icon {
            text-shadow: 0 0 10px silver;
        }

        .ach-card.tier-epic {
            border: 2px solid #ff003c;
            background: linear-gradient(135deg, rgba(255, 0, 60, 0.15), transparent);
            box-shadow: 0 0 15px rgba(255, 0, 60, 0.5);
            animation: epicPulse 2s infinite alternate;
        }

        .ach-card.tier-epic .ach-card-name {
            color: #ff003c;
            text-shadow: 0 0 5px #ff003c;
        }

        .ach-card.tier-legendary {
            border: 2px solid #ffd700;
            background: linear-gradient(135deg, rgba(255, 215, 0, 0.2), transparent, rgba(255, 215, 0, 0.1));
            box-shadow: 0 0 30px rgba(255, 215, 0, 0.8), inset 0 0 20px rgba(255, 215, 0, 0.2);
            animation: legendaryShine 3s infinite linear;
            position: relative;
            overflow: hidden;
        }

        .ach-card.tier-legendary::after {
            content: '';
            position: absolute;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            background: linear-gradient(45deg, transparent, rgba(255, 255, 255, 0.4), transparent);
            transform: rotate(45deg);
            animation: shimmer 3s infinite;
        }

        .ach-card.tier-legendary .ach-card-name {
            color: #ffd700;
            text-shadow: 0 0 10px #ffd700, 0 0 20px #ffd700;
        }

        @keyframes epicPulse {
            0% {
                box-shadow: 0 0 15px rgba(255, 0, 60, 0.5);
            }

            100% {
                box-shadow: 0 0 25px rgba(255, 0, 60, 0.8), inset 0 0 10px rgba(255, 0, 60, 0.2);
            }
        }

        @keyframes legendaryShine {
            0% {
                border-color: #ffd700;
                box-shadow: 0 0 30px rgba(255, 215, 0, 0.6);
            }

            50% {
                border-color: #fff;
                box-shadow: 0 0 50px rgba(255, 215, 0, 1);
            }

            100% {
                border-color: #ffd700;
                box-shadow: 0 0 30px rgba(255, 215, 0, 0.6);
            }
        }

        
        #init-btn {
            margin-top: 0;
            position: relative;
            z-index: 5000;
            padding: 20px 50px;
            font-size: 1.5rem;
            min-width: 280px;
            text-align: center;

            
            clip-path: polygon(5% 0%, 90% 0%, 96% 8%, 100% 25%,
                    98% 50%, 100% 75%, 95% 92%, 85% 100%,
                    15% 98%, 0% 88%, 2% 60%, 0% 30%, 4% 8%);

            
            background: linear-gradient(135deg,
                    rgba(139, 0, 255, 0.15) 0%,
                    rgba(0, 0, 0, 0.9) 40%,
                    rgba(0, 243, 255, 0.15) 100%);
            border: 2px solid #00f3ff;
            color: #00f3ff;
            box-shadow:
                0 0 20px rgba(0, 243, 255, 0.4),
                inset 0 0 15px rgba(0, 0, 0, 0.8),
                0 0 40px rgba(139, 0, 255, 0.2);

            transform: translateY(-60px);

            
            animation: coolPulse 2.5s ease-in-out infinite;

            transition: all 0.3s ease;
            filter: hue-rotate(0deg) brightness(1);
        }

        #init-btn:hover {
            background: linear-gradient(135deg,
                    rgba(139, 0, 255, 0.3) 0%,
                    rgba(0, 0, 0, 0.8) 50%,
                    rgba(0, 243, 255, 0.3) 100%);
            color: white;
            border-color: #8b00ff;
            box-shadow:
                0 0 40px rgba(139, 0, 255, 0.6),
                inset 0 0 20px rgba(0, 243, 255, 0.2),
                0 0 60px rgba(0, 243, 255, 0.4);
            transform: translateY(-60px) scale(1.05);
            filter: brightness(1.3);
        }

        
        @keyframes coolPulse {

            0%,
            100% {
                box-shadow:
                    0 0 20px rgba(0, 243, 255, 0.4),
                    inset 0 0 15px rgba(0, 0, 0, 0.8);
            }

            50% {
                box-shadow:
                    0 0 30px rgba(139, 0, 255, 0.6),
                    inset 0 0 20px rgba(0, 243, 255, 0.1);
            }
        }

        #open-ach-btn {
            transform: scale(1.3);
            border-bottom: 2px solid var(--primary);
            position: fixed;
            bottom: 20px;
            right: 20px;

        }

        
        #s-game-paradox {
            display: flex;
            justify-content: center;
            align-items: center;
            background: #000;
            z-index: 200;
        }

        .paradox-terminal {
            width: 800px;
            max-width: 95vw;
            background: rgba(10, 0, 0, 0.95);
            border: 2px solid var(--danger);
            box-shadow: 0 0 50px var(--danger), inset 0 0 50px rgba(50, 0, 0, 0.5);
            padding: 40px;
            position: relative;
            overflow: hidden;
            font-family: var(--f-mono);
            text-align: center;
        }

        .paradox-feedback {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            font-size: 3rem;
            font-weight: bold;
            pointer-events: none;
            z-index: 10;
            animation: feedbackPop 1s forwards;
            text-shadow: 0 0 20px currentColor;
            white-space: nowrap;
        }

        .paradox-feedback.success {
            color: #00ff00;
        }

        .paradox-feedback.failure {
            color: var(--danger);
        }

        @keyframes feedbackPop {
            0% {
                opacity: 0;
                transform: translate(-50%, -40%) scale(0.5);
            }

            20% {
                opacity: 1;
                transform: translate(-50%, -50%) scale(1.2);
            }

            100% {
                opacity: 0;
                transform: translate(-50%, -60%) scale(1);
            }
        }


        .paradox-header {
            display: flex;
            justify-content: space-between;
            border-bottom: 2px solid var(--danger);
            padding-bottom: 15px;
            margin-bottom: 30px;
            font-size: 1.5rem;
            color: var(--danger);
            text-shadow: 0 0 10px var(--danger);
        }

        .paradox-content {
            min-height: 400px;
            display: flex;
            flex-direction: column;
            justify-content: center;
            position: relative;
        }

        .question-display {
            font-size: 2rem;
            color: #fff;
            text-align: center;
            margin-bottom: 50px;
            min-height: 120px;
            display: flex;
            align-items: center;
            justify-content: center;
            text-shadow: 0 0 10px rgba(255, 0, 0, 0.5);
        }

        .chaos-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 30px;
        }

        .paradox-btn {
            background: rgba(50, 0, 0, 0.3);
            border: 2px solid var(--danger);
            color: var(--danger);
            padding: 25px;
            font-size: 1.3rem;
            font-family: var(--f-mono);
            cursor: pointer;
            transition: all 0.2s;
            text-transform: uppercase;
            letter-spacing: 2px;
            position: relative;
            overflow: hidden;
        }

        .paradox-btn:hover {
            background: var(--danger);
            color: #000;
            box-shadow: 0 0 30px var(--danger);
            transform: scale(1.05);
        }

        .sanity-meter {
            margin-top: 30px;
            display: flex;
            align-items: center;
            gap: 20px;
            color: var(--danger);
            font-size: 1.2rem;
        }

        .sanity-bar {
            flex-grow: 1;
            height: 15px;
            background: #330000;
            border: 1px solid var(--danger);
            box-shadow: 0 0 10px var(--danger);
            position: relative;
        }

        #sanity-fill {
            height: 100%;
            background: var(--danger);
            transition: width 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275);
            box-shadow: 0 0 15px var(--danger);
        }

        .instruction-text {
            margin-top: 15px;
            text-align: center;
            font-size: 1.1rem;
            border: 1px dashed var(--danger);
            padding: 10px;
            color: rgba(255, 0, 0, 0.8);
        }

        .paradox-glitch-layer {
            position: absolute;
            inset: 0;
            pointer-events: none;
            z-index: -1;
            opacity: 0.1;
            background: repeating-linear-gradient(0deg, transparent, transparent 2px, var(--danger) 2px, var(--danger) 4px);
        }

        
        #neural-wrapper {
            position: fixed;
            inset: 0;
            overflow: hidden;
            background: #000;
            perspective: 1200px;
            
            z-index: 9999;
            pointer-events: none;
            
        }

        #game-tilt-layer {
            position: absolute;
            inset: 0;
            width: 100%;
            height: 100%;
            transform-style: preserve-3d;
            transform-style: preserve-3d;
            
            pointer-events: auto;
            
            background: radial-gradient(circle at center, #110000 0%, #000 90%);
        }

        #neural-hud-overlay {
            position: fixed;
            inset: 0;
            pointer-events: none;
            z-index: 10000;
        }

        
        .vignette-heavy {
            position: absolute;
            inset: 0;
            background: radial-gradient(circle, transparent 50%, rgba(0, 0, 0, 0.9) 95%);
            mix-blend-mode: multiply;
        }

        
        .border-glitch {
            position: absolute;
            inset: 20px;
            border: 1px solid rgba(255, 50, 50, 0.3);
            border-radius: 20px;
            box-shadow: 0 0 20px rgba(255, 0, 0, 0.1), inset 0 0 20px rgba(255, 0, 0, 0.05);
            background: linear-gradient(to bottom, transparent 95%, rgba(255, 0, 0, 0.05));
            pointer-events: none;
        }

        .border-glitch::before,
        .border-glitch::after {
            content: '';
            position: absolute;
            width: 20px;
            height: 20px;
            border: 2px solid var(--primary);
            transition: all 0.2s ease;
        }

        .border-glitch::before {
            top: -1px;
            left: -1px;
            border-right: none;
            border-bottom: none;
            border-top-left-radius: 20px;
        }

        .border-glitch::after {
            bottom: -1px;
            right: -1px;
            border-left: none;
            border-top: none;
            border-bottom-right-radius: 20px;
        }

        
        .retinal-scanline {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 3px;
            background: rgba(255, 50, 50, 0.2);
            box-shadow: 0 0 10px rgba(255, 0, 0, 0.5);
            animation: retinalScan 8s linear infinite;
            opacity: 0.5;
        }

        @keyframes retinalScan {
            0% {
                transform: translateY(-10%);
                opacity: 0;
            }

            10% {
                opacity: 0.5;
            }

            90% {
                opacity: 0.5;
            }

            100% {
                transform: translateY(110%);
                opacity: 0;
            }
        }

        
        .bio-metrics {
            position: absolute;
            bottom: 40px;
            left: 50px;
            font-family: var(--f-mono);
            font-size: 0.7rem;
            color: rgba(255, 50, 50, 0.6);
            line-height: 1.4;
            text-shadow: 0 0 5px rgba(255, 0, 0, 0.4);
            display: flex;
            flex-direction: column;
            gap: 2px;
        }

        .bio-metrics span {
            display: flex;
            justify-content: space-between;
            width: 180px;
        }

        .bio-marker {
            width: 8px;
            height: 8px;
            background: var(--primary);
            border-radius: 50%;
            display: inline-block;
            box-shadow: 0 0 8px var(--primary);
            animation: pulseBio 2s infinite;
            margin-right: 8px;
        }

        @keyframes pulseBio {

            0%,
            100% {
                opacity: 1;
                transform: scale(1);
            }

            50% {
                opacity: 0.6;
                transform: scale(0.8);
            }
        }

        .sys-status {
            position: absolute;
            top: 40px;
            right: 50px;
            text-align: right;
            font-family: var(--f-code);
            font-size: 0.7rem;
            color: rgba(255, 50, 50, 0.5);
        }

        
        body {
            cursor: crosshair !important;
            
        }

        
        .rules-overlay {
            position: fixed;
            inset: 0;
            background: rgba(0, 0, 0, 0.85);
            backdrop-filter: blur(10px);
            z-index: 20000;
            display: flex;
            justify-content: center;
            align-items: center;
            opacity: 0;
            pointer-events: none;
            transition: opacity 0.5s ease;
        }

        .rules-overlay.active {
            opacity: 1;
            pointer-events: auto;
        }

        .rules-card {
            background: var(--glass-bg);
            border: 2px solid var(--primary);
            box-shadow: 0 0 50px rgba(255, 0, 0, 0.2);
            padding: 40px;
            max-width: 600px;
            width: 90%;
            max-height: 80vh;
            
            border-radius: 16px;
            text-align: center;
            transform: scale(0.9);
            transition: transform 0.5s cubic-bezier(0.23, 1, 0.32, 1);
            display: flex;
            flex-direction: column;
            justify-content: flex-start;
            align-items: center;
            overflow-y: auto;
            
        }

        .rules-overlay.active .rules-card {
            transform: scale(1);
        }

        .rules-title {
            font-family: var(--f-title);
            font-size: 2.5rem;
            color: var(--primary);
            margin-bottom: 30px;
            text-shadow: 0 0 20px var(--primary);
            border-bottom: 2px solid var(--primary);
            padding-bottom: 15px;
        }

        .rules-list {
            list-style: none;
            padding: 0;
            margin: 0 0 30px 0;
            text-align: left;
            font-family: var(--f-mono);
            font-size: 1.2rem;
            color: var(--text-main);
            line-height: 1.6;
        }

        .rules-list li {
            margin-bottom: 15px;
            padding-left: 20px;
            position: relative;
        }

        .rules-list li::before {
            content: '>';
            position: absolute;
            left: 0;
            color: var(--secondary);
        }

        .rules-hint {
            font-family: var(--f-ui);
            color: var(--text-dim);
            font-size: 0.9rem;
            animation: pulse 2s infinite;
            letter-spacing: 2px;
        }

        
        .outro-text {
            font-family: var(--f-title);
            font-size: 4rem;
            color: white;
            text-align: center;
            opacity: 0;
            transform: scale(0.8);
            transition: all 0.5s cubic-bezier(0.23, 1, 0.32, 1);
            text-shadow: 0 0 20px rgba(255, 255, 255, 0.5);
        }

        .anim-in {
            opacity: 1 !important;
            transform: scale(1) !important;
        }

        .anim-out {
            opacity: 0 !important;
            transform: scale(1.2) !important;
            filter: blur(10px);
        }

        #s-over {
            z-index: 7000;
            
            background: black;
            
        }

        
        .power-off-anim {
            animation: powerOff 0.6s forwards cubic-bezier(0.23, 1, 0.32, 1);
            pointer-events: none;
        }

        @keyframes powerOff {
            0% {
                filter: brightness(1) sepia(0);
                transform: scale(1);
            }

            50% {
                filter: brightness(0.5) sepia(1) hue-rotate(-50deg);
            }

            100% {
                filter: brightness(0) grayscale(1);
                transform: scale(0.95);
                opacity: 0;
            }
        }

        @keyframes glitchText {
            0% {
                transform: translate(0);
            }

            20% {
                transform: translate(-2px, 2px);
            }

            40% {
                transform: translate(-2px, -2px);
            }

            60% {
                transform: translate(2px, 2px);
            }

            80% {
                transform: translate(2px, -2px);
            }

            100% {
                transform: translate(0);
            }
        }
    </style>
</head>

<body>

    
    <div class="darkness-overlay" id="darkness-overlay"></div>

    
    <div id="neural-wrapper">
        <div id="game-tilt-layer">

            
            <div class="click-to-start" id="click-to-start">
                
                <div class="landing-energy-rings"></div>

                
                <div class="landing-neural-net"></div>

                
                <div class="start-text">⚡ NEURO-FRIED ⚡</div>
                <div class="headphones-warning">🎧 USE HEADPHONES FOR BETTER OPTIMIZATION 🎧</div>
                <div class="start-subtext">[ CLICK ANYWHERE TO BEGIN ]</div>
            </div>

            
            <div id="tilt-ambient"></div>

            <div id="render-layer"><canvas id="c"></canvas></div>
            <div class="vignette"></div>
            <div class="scanlines"></div>

            
            <div class="blood-veins"></div>
            <div class="blood-drip" id="blood-drip"></div>

            <div class="fx-overlay fx-rewind"></div>
            <div class="fx-overlay fx-freeze"></div>

            <div class="heartbeat-vignette" id="heartbeat-vignette"></div>

            <div class="clutch-save-overlay" id="clutch-save-overlay">
                <div class="clutch-save-text">⚡ CLUTCH SAVE ⚡</div>
            </div>

            <div class="screen-crack-overlay" id="screen-crack-overlay"></div>

            
            <div class="mobile-blocker" id="mobile-blocker">
                <h1>🖥️ DESKTOP ONLY</h1>
                <p>NEURO-FRIED requires a desktop browser for the full neural experience. The timeline cannot be
                    accessed from
                    mobile devices.</p>
                <div class="desktop-icon">💻</div>
                <p style="margin-top: 20px; font-size: 0.9rem; opacity: 0.6;">Switch to a computer to play.</p>
            </div>

            
            <div id="s-luck" class="screen hidden">
                <h2
                    style="font-family:var(--f-title); color:var(--text-main); margin-bottom:10px; font-size:2rem; margin-top: 15vh;">
                    FATE SELECTION
                </h2>
                <div class="story-container" id="fate-story-container">
                    
                </div>
                <div class="luck-box" id="luck-box-container" style="opacity:0; pointer-events:none;">
                    <div class="luck-container">
                        <div class="luck-slots">
                            <div class="luck-slot" id="luck-slot-1">?</div>
                            <div class="luck-slot" id="luck-slot-2">?</div>
                            <div class="luck-slot" id="luck-slot-3">?</div>
                        </div>
                        <div class="luck-result" id="luck-result"></div>
                    </div>
                    <button class="tech-btn" id="spin-luck-btn" style="margin-top:30px;">SPIN FATE</button>
                </div>
            </div>

            
            <div class="dream-overlay" id="dream-overlay">
                <div class="dream-text" id="dream-text">IT WAS A DREAM...</div>
                <div class="dream-subtext" id="dream-subtext">Timeline resetting...</div>
            </div>

            
            <div id="s-game-paradox" class="screen hidden" style="background: black;">
                <div class="paradox-terminal">
                    <div class="paradox-header">
                        <span class="blink">WARNING: REALITY UNSTABLE</span>
                        <span id="paradox-timer" style="color:var(--danger)">60.00</span>
                    </div>

                    <div class="paradox-content">
                        <div class="paradox-glitch-layer"></div>
                        <div class="question-display" id="paradox-question">
                            [ SYSTEM FAILURE ]
                        </div>

                        <div class="chaos-grid" id="paradox-options">
                            
                        </div>
                    </div>

                    <div class="paradox-footer">
                        <div class="sanity-meter">
                            <span>SANITY:</span>
                            <div class="sanity-bar">
                                <div id="sanity-fill" style="width:100%"></div>
                            </div>
                        </div>
                        <div id="paradox-instruction" class="instruction-text">

                        </div>
                    </div>
                </div>
            </div>

            
            <div class="puzzle-modal" id="puzzle-modal" style="display: none;">
                <div class="puzzle-box">
                    <div class="puzzle-title">⏳ FINAL CHALLENGE ⏳</div>
                    <div style="font-family:var(--f-mono); color:var(--text-dim); margin-bottom:20px;">
                        Solve to escape the timeline...
                    </div>
                    <div class="puzzle-question" id="puzzle-question">2 + 2 = ?</div>
                    <input type="text" class="puzzle-input" id="puzzle-input" placeholder="?" autocomplete="off">
                    <button class="tech-btn puzzle-submit" id="puzzle-submit">SUBMIT</button>
                    <div id="puzzle-feedback" style="margin-top:15px; font-family:var(--f-mono); min-height:30px;">
                    </div>
                </div>
            </div>

            


            <div id="fail-modal" class="fail-modal">
                <div class="fail-title">TIMELINE FRACTURED</div>
                <div class="fail-sub">ANOMALY DETECTED. CHOOSE ACTION.</div>
                <div style="font-family:var(--f-mono); opacity:0.6;">
                    EVERY REWIND ACCELERATES COLLAPSE.
                </div>

                <div class="fail-btn-row">
                    <button class="fail-btn btn-rewind" onclick="Game.triggerRewind()">REWIND<br><span
                            style="font-size:0.8rem">COST: 1 CHARGE</span></button>
                    <button class="fail-btn btn-exit" onclick="Game.gameOver()">EXIT<br><span
                            style="font-size:0.8rem">ACCEPT
                            FATE</span></button>
                </div>
            </div>

            <div id="victory-screen" class="win-modal" style="display:none;">
                <h1 class="glitch-title"
                    style="color: var(--green); text-shadow: 0 0 30px var(--green), 0 0 80px rgba(57, 255, 20, 0.5); transform: scale(0.8); position: relative; z-index: 10;">
                    NEURAL SYNC COMPLETE
                </h1>
                <div class="victory-stats" style="
            background: rgba(0, 20, 10, 0.85);
            backdrop-filter: blur(15px);
            border: 2px solid rgba(57, 255, 20, 0.4);
            border-radius: 16px;
            padding: 30px 50px;
            margin: 30px 0;
            width: 80%;
            max-width: 600px;
            box-shadow: 0 0 40px rgba(57, 255, 20, 0.2), inset 0 0 30px rgba(0, 0, 0, 0.5);
            position: relative;
            z-index: 10;
        ">
                    <div class="stat-row"
                        style="display: flex; justify-content: space-between; margin: 15px 0; border-bottom: 1px solid rgba(57, 255, 20, 0.2); padding-bottom: 10px;">
                        <span class="stat-label" style="font-family: var(--f-ui); color: rgba(255,255,255,0.7);">FINAL
                            SCORE</span>
                        <span class="stat-val" id="final-score"
                            style="font-family: var(--f-mono); font-size: 1.5rem; color: var(--green); text-shadow: 0 0 10px var(--green);">0</span>
                    </div>
                    <div class="stat-row"
                        style="display: flex; justify-content: space-between; margin: 15px 0; border-bottom: 1px solid rgba(57, 255, 20, 0.2); padding-bottom: 10px;">
                        <span class="stat-label" style="font-family: var(--f-ui); color: rgba(255,255,255,0.7);">TIME
                            SURVIVED</span>
                        <span class="stat-val" id="time-survived"
                            style="font-family: var(--f-mono); font-size: 1.5rem; color: var(--secondary); text-shadow: 0 0 10px var(--secondary);">0s</span>
                    </div>
                    <div class="stat-row"
                        style="display: flex; justify-content: space-between; margin: 15px 0; border-bottom: 1px solid rgba(57, 255, 20, 0.2); padding-bottom: 10px;">
                        <span class="stat-label"
                            style="font-family: var(--f-ui); color: rgba(255,255,255,0.7);">QUESTIONS
                            CLEARED</span>
                        <span class="stat-val" id="questions-cleared"
                            style="font-family: var(--f-mono); font-size: 1.5rem; color: var(--text-main);">0</span>
                    </div>
                    <div class="stat-row" style="display: flex; justify-content: space-between; margin: 15px 0;">
                        <span class="stat-label" style="font-family: var(--f-ui); color: rgba(255,255,255,0.7);">MAX
                            SPEED</span>
                        <span class="stat-val" id="max-speed"
                            style="font-family: var(--f-mono); font-size: 1.5rem; color: var(--danger); text-shadow: 0 0 10px var(--danger);">1x</span>
                    </div>
                </div>
                <button class="tech-btn" style="position: relative; z-index: 10;"
                    onclick="location.reload()">REBOOT</button>
            </div>

            
            <div id="rules-overlay" class="rules-overlay hidden">
                <div class="rules-card">
                    <h2 class="rules-title" id="rules-title">MODE RULES</h2>
                    <ul class="rules-list" id="rules-list">
                        
                    </ul>
                    <div class="rules-hint">[ TAP ANYWHERE TO START ]</div>
                </div>
            </div>

            <div id="hud" class="hidden">
                
                <div class="hud-panel hud-top-left" id="timer-panel" style="
            left: 200px;
            top: 70px;
            min-width: 180px;
            border-left: 3px solid var(--primary);
            border-top: 2px solid var(--primary);
            border-bottom: 2px solid var(--primary);
            border-right: none;
            text-align: left;
            pointer-events: auto;
            z-index: 10000;
            transform: translateZ(200px);
        ">
                    <div class="stat-label">TIME REMAINING</div>
                    <div class="stat-val" id="time-display" style="font-size: 2.5rem; color: var(--primary);">60.0</div>
                    <div class="time-bar-container" style="
                width: 150px;
                height: 8px;
                background: rgba(255,255,255,0.1);
                border-radius: 4px;
                margin-top: 10px;
                overflow: hidden;
            ">
                        <div class="time-bar" id="time-bar" style="
                    height: 100%;
                    width: 100%;
                    background: linear-gradient(90deg, var(--danger), var(--primary));
                    transition: width 0.1s linear;
                    box-shadow: 0 0 10px var(--primary);
                "></div>
                    </div>
                </div>
                <div class="hud-panel hud-top-right"
                    style="right: 200px; top: 70px; pointer-events: auto; z-index: 10000; transform: translateZ(200px);">
                    <div class="stat-label">TIMELINES SAVED</div>
                    <div style="display:flex; align-items:center; justify-content:flex-end;">
                        <div class="coin-cont">
                            <div class="retro-coin"></div>
                        </div>
                        <div class="stat-val" id="hud-score">0</div>
                    </div>
                    <div class="stat-label" style="margin-top:10px;">REALITY ANCHORS</div>
                    <div id="hud-streak"
                        style="font-family:var(--f-mono); color:var(--green); font-size:1.2rem; min-height:1.5rem;">
                    </div>
                    <div class="lives-container" id="lives-container">
                        <div class="life-pip"></div>
                        <div class="life-pip"></div>
                        <div class="life-pip"></div>
                    </div>
                </div>

                
                <div class="hud-panel"
                    style="left: 50%; top: 30%; transform: translate(-50%, -50%) translateZ(200px); 
                           min-width: 300px; max-width: 400px; text-align: center; pointer-events: none; z-index: 10000;">
                    <div class="stat-label" style="margin-bottom: 8px; font-size: 0.8rem;">
                        ⚠️ TIMELINE INTEGRITY ⚠️
                    </div>
                    <div style="width: 100%; height: 20px; background: rgba(0,0,0,0.8); border: 2px solid var(--primary); 
                                border-radius: 10px; overflow: hidden; position: relative;">
                        <div id="corruption-fill" style="width: 0%; height: 100%; 
                                    background: linear-gradient(90deg, #8b00ff, #ff00ff, #ff0000);
                                    transition: width 0.3s ease, box-shadow 0.3s ease;
                                    box-shadow: 0 0 10px rgba(139, 0, 255, 0.8);">
                        </div>
                        <div id="corruption-text" style="position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%);
                                    font-family: var(--f-mono); font-size: 0.7rem; color: white;
                                    text-shadow: 0 0 5px black; font-weight: bold; z-index: 1;">
                            0% CORRUPTED
                        </div>
                    </div>
                    <div id="corruption-warning" style="margin-top: 5px; font-family: var(--f-mono); font-size: 0.7rem; 
                                color: var(--danger); opacity: 0; transition: opacity 0.3s;">
                        ⚠️ REALITY FRACTURING ⚠️
                    </div>
                </div>

                <div class="freeze-container"
                    style="left: 200px; bottom: 70px; position: absolute; display: flex; gap: 20px; pointer-events: auto; z-index: 10000; transform: translateZ(200px);">
                    <button class="big-freeze-btn" id="btn-freeze" onclick="TimePowers.useFreeze()">
                        FREEZE
                        <span>[SPACE]</span>
                    </button>
                    <button class="big-freeze-btn btn-hud-rewind" id="btn-rewind-hud" onclick="TimePowers.useRewind()">
                        REWIND
                        <span>[R]</span>
                    </button>
                </div>
            </div>

            <div id="s-title" class="screen active">
                <h1 class="glitch-title" data-text="NEURO FRIED">NEURO<br>FRIED</h1>

                <div class="protocol-container">
                    <div class="protocol-trigger">[ TRANSMISSION INTERCEPTED ]</div>
                    <div class="story-container" id="title-story-container">
                        
                    </div>
                </div>

                <button class="tech-btn" id="init-btn" style="opacity:0; pointer-events:none;">INITIALIZE
                    SYSTEM</button>
            </div>

            <div id="s-roulette" class="screen hidden">
                <h2 style="font-family:var(--f-title); color:var(--text-main); margin-bottom:20px; opacity:0.8;">
                    SEARCHING
                    ARCHIVES...</h2>
                <div class="story-container" id="roulette-story-container">
                    
                </div>
                <div class="roulette-box">
                    <div class="roulette-window">
                        <div class="roulette-track" id="roulette-track"></div>
                        <div
                            style="position:absolute; inset:0; background:linear-gradient(to bottom, var(--glass-bg), transparent 40%, transparent 60%, var(--glass-bg)); pointer-events:none; z-index:20;">
                        </div>
                    </div>
                    <div id="roulette-actions" class="hidden" style="margin-top:10px;">
                        <button class="tech-btn" onclick="Game.confirmTopic()"
                            style="border-color:var(--primary); color:var(--primary);">ACCEPT</button>
                        <button class="tech-btn" onclick="Game.reroll()"
                            style="border-color:var(--danger); color:var(--danger);">REROLL</button>
                    </div>
                </div>
            </div>

            <div id="s-timeline" class="screen hidden">
                <div class="timeline-box">
                    <h2 style="font-family:var(--f-title); color:var(--text-main);">CHOOSE YOUR PATH</h2>
                    <div class="story-container" id="timeline-story-container">
                        
                    </div>
                    <div id="timeline-controls" style="opacity:0; pointer-events:none;">
                        <div style="margin:20px 0; font-family:var(--f-mono); font-size:2rem; color:var(--secondary);">
                            1935 <span style="opacity:0.5">&lt;---&gt;</span> 2035
                        </div>
                        <div class="btn-row">
                            <button class="tech-btn" style="border-color:var(--primary); color:var(--primary);"
                                onclick="Game.startGame('asc')">CHRONOLOGICAL</button>
                            <button class="tech-btn" style="border-color:var(--danger); color:var(--danger);"
                                onclick="Game.startGame('desc')">REWIND FLOW</button>
                        </div>
                    </div>
                </div>
            </div>

            <div id="s-register" class="screen hidden" style="background: black; z-index: 5500;">
                <div class="register-box">
                    <h2 style="font-family:var(--f-title); color:var(--primary); margin-bottom:10px;">IDENTITY
                        REGISTRATION</h2>
                    <p style="font-family:var(--f-mono); color:#888; margin-bottom:30px;">REQUIRED FOR NEURAL SYNC</p>

                    <label for="reg-photo" class="avatar-upload">
                        <span id="reg-upload-text" style="color:var(--secondary); font-family:var(--f-mono);">+
                            PHOTO</span>
                        <img id="reg-preview" class="avatar-preview">
                        <input type="file" id="reg-photo" hidden accept="image
        #score-pop-container {
            position: absolute;
            pointer-events: none;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            overflow: hidden;
        }

        .score-pop {
            position: absolute;
            font-size: 2rem;
            color: var(--green);
            animation: popFade 1s ease-out forwards;
        }

        @keyframes popFade {
            0% {
                opacity: 1;
                transform: translateY(0) scale(1);
            }

            100% {
                opacity: 0;
                transform: translateY(-50px) scale(1.5);
            }
        }

        
        .modal {
            position: fixed;
            inset: 0;
            background: rgba(0, 0, 0, 0.7);
            display: flex;
            justify-content: center;
            align-items: center;
            z-index: 10000;
        }

        .modal.hidden {
            display: none;
        }

        .modal-content {
            background: var(--glass-bg);
            padding: 20px;
            border: var(--glass-border);
            border-radius: 8px;
            color: var(--text-main);
            min-width: 200px;
        }

        #leaderboard-list {
            list-style: decimal;
            margin-left: 20px;
        }

        
        .theme-toggle {
            position: fixed;
            top: 10px;
            right: 10px;
            background: var(--glass-bg);
            color: var(--text-main);
            border: var(--glass-border);
            padding: 5px 10px;
            cursor: pointer;
            z-index: 10001;
        }

        
        #blood-drop-container {
            position: fixed;
            inset: 0;
            pointer-events: none;
            overflow: hidden;
            z-index: 9994;
        }

        
        #coin-logo {
            width: 50px;
            animation: coinSpin 3s linear infinite;
        }

        @keyframes coinSpin {
            from {
                transform: rotate(0deg);
            }

            to {
                transform: rotate(360deg);
            }
        }

        
        .register-box {
            background: rgba(10, 10, 15, 0.95);
            border: 2px solid var(--primary);
            box-shadow: 0 0 30px var(--primary), inset 0 0 50px rgba(0, 0, 0, 0.8);
            padding: 40px;
            width: 500px;
            max-width: 90vw;
            text-align: center;
            position: relative;
            clip-path: polygon(0 0, 100% 0, 100% 90%, 90% 100%, 0 100%);
        }

        .avatar-upload {
            width: 150px;
            height: 150px;
            border: 2px dashed var(--secondary);
            border-radius: 50%;
            margin: 0 auto 20px;
            display: flex;
            justify-content: center;
            align-items: center;
            cursor: pointer;
            overflow: hidden;
            position: relative;
            transition: all 0.3s;
        }

        .avatar-upload:hover {
            border-color: var(--primary);
            box-shadow: 0 0 20px var(--primary);
        }

        .avatar-preview {
            width: 100%;
            height: 100%;
            object-fit: cover;
            display: none;
        }

        .cyber-input {
            width: 100%;
            background: transparent;
            border: none;
            border-bottom: 2px solid var(--secondary);
            color: var(--primary);
            font-family: var(--f-mono);
            font-size: 1.5rem;
            padding: 10px;
            text-align: center;
            margin-bottom: 30px;
            outline: none;
            transition: all 0.3s;
        }

        .cyber-input:focus {
            border-color: var(--primary);
            box-shadow: 0 10px 20px -10px var(--primary);
        }

        .leaderboard-avatar {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            border: 1px solid var(--primary);
            margin-right: 10px;
            object-fit: cover;
            vertical-align: middle;
        }

        .black-glow {
            text-shadow: 0 0 10px #000, 0 0 20px #000, 0 0 30px #000, 0 0 10px #000;
        }
    </style>
    <style>
        
        .cyber-terminal {
            background: rgba(10, 10, 15, 0.95);
            border: 2px solid var(--primary);
            box-shadow: 0 0 30px var(--primary), inset 0 0 20px rgba(0, 0, 0, 0.8);
            color: var(--primary);
            font-family: var(--f-mono);
            width: 400px;
            max-width: 90vw;
            padding: 0;
            
            text-align: center;
            position: relative;
            overflow: hidden;
            clip-path: polygon(0 0, 100% 0, 100% 95%, 95% 100%, 0 100%);
        }

        .cyber-terminal::before {
            
            content: "";
            position: absolute;
            inset: 0;
            background: repeating-linear-gradient(0deg, transparent, transparent 2px, rgba(0, 0, 0, 0.5) 4px);
            pointer-events: none;
            z-index: 1;
        }

        .terminal-header {
            background: var(--primary);
            color: #000;
            padding: 10px;
            font-family: var(--f-title);
            font-size: 1.5rem;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .leaderboard-container {
            padding: 20px;
        }

        #leaderboard-list {
            list-style: none;
            margin: 0;
            padding: 0;
            font-family: var(--f-mono);
            text-align: left;
        }

        #leaderboard-list li {
            font-size: 1.2rem;
            padding: 15px 10px;
            border-bottom: 1px dashed rgba(255, 255, 255, 0.2);
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        #leaderboard-list li::before {
            content: ">";
            margin-right: 10px;
            color: var(--danger);
        }

        .mega-btn {
            width: 100%;
            padding: 20px;
            font-size: 1.5rem;
            font-family: var(--f-title);
            background: var(--danger);
            color: #fff;
            border: none;
            cursor: pointer;
            text-transform: uppercase;
            letter-spacing: 2px;
            transition: all 0.2s;
            position: relative;
            z-index: 2;
            
        }

        .mega-btn:hover {
            background: #fff;
            color: #000;
            box-shadow: 0 0 30px var(--danger);
        }
    </style>
    <script>

        function showLeaderboard() {
            const scores = JSON.parse(localStorage.getItem('neuro_fried_scores') || '[]');
            const list = document.getElementById('leaderboard-list');
            if (list) {
                list.innerHTML = '';
                scores.slice(0, 3).forEach((s, i) => { const li = document.createElement('li'); li.textContent = `${i + 1}. ${s}`; list.appendChild(li); });
            }
            if (typeof achievementStats !== 'undefined' && typeof unlockAchievement !== 'undefined') {
                achievementStats.leaderboardOpenCount = (achievementStats.leaderboardOpenCount || 0) + 1;
                if (achievementStats.leaderboardOpenCount >= 3) unlockAchievement('social_butterfly'); // EXPANSION HOOK
            }
            document.getElementById('leaderboard-modal').classList.remove('hidden');
        }
        function saveScore(score) {
            const scores = JSON.parse(localStorage.getItem('neuro_fried_scores') || '[]');
            scores.push(score);
            scores.sort((a, b) => b - a);
            localStorage.setItem('neuro_fried_scores', JSON.stringify(scores));
        }
        function toggleTheme() {
            const html = document.documentElement;
            const cur = html.getAttribute('data-theme') || 'dark';
            html.setAttribute('data-theme', cur === 'dark' ? 'light' : 'dark');

            if (typeof achievementStats !== 'undefined' && typeof unlockAchievement !== 'undefined') {
                achievementStats.themeToggleCount = (achievementStats.themeToggleCount || 0) + 1;
                if (achievementStats.themeToggleCount >= 5) unlockAchievement('void_gazer'); // EXPANSION HOOK
            }
        }
        function spawnBloodDrop() {
            const container = document.getElementById('blood-drop-container');
            if (!container) return;
            const drop = document.createElement('div');
            drop.style.position = 'fixed';
            drop.style.width = '4px';
            drop.style.height = '10px';
            drop.style.background = 'rgba(139,0,0,0.7)';
            drop.style.left = Math.random() * window.innerWidth + 'px';
            drop.style.top = '-20px';
            drop.style.transform = 'rotate(' + Math.random() * 360 + 'deg)';
            container.appendChild(drop);
            const dur = 2000 + Math.random() * 1000;
            drop.animate([{ transform: `translateY(${window.innerHeight + 20}px)` }, { opacity: 0 }], { duration: dur, easing: 'ease-out' });
            setTimeout(() => drop.remove(), dur);
        }
        let bloodInterval = null;
        function startBloodDrops() { if (bloodInterval) return; bloodInterval = setInterval(spawnBloodDrop, 300); }
        function stopBloodDrops() { clearInterval(bloodInterval); bloodInterval = null; }
        function rampBGM() {
            if (!MusicSystem || !MusicSystem.currentTrack) return;
            const track = MusicSystem.currentTrack;
            track.playbackRate = 0.7;
            const target = 1.0; const step = 0.01;
            const int = setInterval(() => { if (track.playbackRate >= target) { clearInterval(int); } else { track.playbackRate = Math.min(target, track.playbackRate + step); } }, 500);
        }
        if (typeof MusicSystem !== 'undefined') {
            const origPlay = MusicSystem.play;
            MusicSystem.play = function (name) { origPlay.call(this, name); if (name === 'start') rampBGM(); };
        }

        const themeBtn = document.getElementById('theme-toggle-btn');
        if (themeBtn) {
            themeBtn.addEventListener('click', toggleTheme);
        }

        if (typeof Game !== 'undefined' && Game.start) {
            const originalStart = Game.start;
            Game.start = function () {
                originalStart.call(this);
                startBloodDrops();
            };
        }

        function showScorePop(x, y) {
            const container = document.getElementById('score-pop-container');
            if (!container) return;
            const pop = document.createElement('div');
            pop.className = 'score-pop';
            pop.textContent = '+1';
            pop.style.left = x + 'px';
            pop.style.top = y + 'px';
            container.appendChild(pop);
            setTimeout(() => pop.remove(), 1000);
        }
    </script>
    
    <div id="score-pop-container"></div>

    <script>

        const UserProfile = {
            name: "UNKNOWN",
            photo: null,
            registered: false
        };

        function registerAndStart() {
            const nameInput = document.getElementById('reg-name');
            const name = nameInput.value.toUpperCase().trim() || "AGENT";

            UserProfile.name = name;
            UserProfile.registered = true;

            if (typeof unlockAchievement !== 'undefined') unlockAchievement('identity_verified'); // EXPANSION HOOK


            localStorage.setItem('neuro_fried_last_user', JSON.stringify({ name: UserProfile.name, photo: UserProfile.photo }));

            updateIdentityDisplays();


            const regScreen = document.getElementById('s-register');
            regScreen.classList.add('hidden');
            regScreen.classList.remove('active');

            const luckScreen = document.getElementById('s-luck');
            luckScreen.classList.remove('hidden');
            luckScreen.classList.add('active');

            if (typeof StorySystem !== 'undefined') StorySystem.playStory('fate', 'fate', 'luck-box-container');
        }

        function previewAvatar(input) {
            if (input.files && input.files[0]) {
                const reader = new FileReader();
                reader.onload = function (e) {
                    const preview = document.getElementById('reg-preview');
                    const text = document.getElementById('reg-upload-text');
                    preview.src = e.target.result;
                    preview.style.display = 'block';
                    text.style.display = 'none';
                    UserProfile.photo = e.target.result; // Store base64
                }
                reader.readAsDataURL(input.files[0]);
            }
        }

        function updateIdentityDisplays() {

            const finalName = document.getElementById('final-name');
            const cardImg = document.getElementById('card-img');

            if (finalName) finalName.textContent = UserProfile.name;
            if (cardImg && UserProfile.photo) {
                cardImg.src = UserProfile.photo;
                cardImg.style.filter = "none"; // Remove grayscale
                cardImg.style.opacity = "1";
            }
        }





        function showLeaderboard() {
            const scores = JSON.parse(localStorage.getItem('neuro_fried_scores_v2') || '[]');
            const list = document.getElementById('leaderboard-list');
            if (list) {
                list.innerHTML = '';
                scores.slice(0, 5).forEach((item, i) => { // Top 5
                    const li = document.createElement('li');

                    let photoHtml = '';
                    if (item.photo) {
                        photoHtml = `<img src="${item.photo}" class="leaderboard-avatar">`;
                    } else {
                        photoHtml = `<div class="leaderboard-avatar" style="background:#333; display:inline-block;"></div>`;
                    }

                    li.innerHTML = `
                        <div style="display:flex; align-items:center;">
                            ${photoHtml}
                            <span>${item.name || 'UNKNOWN'}</span>
                        </div>
                        <span>${item.score}</span>
                    `;
                    list.appendChild(li);
                });
            }
            document.getElementById('leaderboard-modal').classList.remove('hidden');
        };

        function saveScore(score) {
            const scores = JSON.parse(localStorage.getItem('neuro_fried_scores_v2') || '[]');
            scores.push({
                score: parseInt(score),
                name: UserProfile.name,
                photo: UserProfile.photo
            });
            scores.sort((a, b) => b.score - a.score);
            localStorage.setItem('neuro_fried_scores_v2', JSON.stringify(scores));
        };

        document.addEventListener('DOMContentLoaded', () => {
            try {
                const saved = JSON.parse(localStorage.getItem('neuro_fried_last_user'));
                if (saved) {
                    UserProfile.name = saved.name;
                    UserProfile.photo = saved.photo;
                    updateIdentityDisplays();
                }
            } catch (e) { }

            loadAchievements();
        });

        

        const ACHIEVEMENTS = {

            first_blood: { id: 'first_blood', icon: '🩸', name: 'FIRST BLOOD', desc: 'Get your first correct answer', unlocked: false, tier: 'common' },
            time_lord: { id: 'time_lord', icon: '❄️', name: 'TIME LORD', desc: 'Use the Freeze ability', unlocked: false, tier: 'common' },
            temporal_paradox: { id: 'temporal_paradox', icon: '⏪', name: 'TEMPORAL PARADOX', desc: 'Use the Rewind ability', unlocked: false, tier: 'common' },
            identity_verified: { id: 'identity_verified', icon: '🆔', name: 'IDENTITY VERIFIED', desc: 'Register a Full Profile', unlocked: false, tier: 'common' },
            social_butterfly: { id: 'social_butterfly', icon: '🦋', name: 'SOCIAL BUTTERFLY', desc: 'Open the Leaderboard 3 times', unlocked: false, tier: 'common' },

            hot_streak: { id: 'hot_streak', icon: '🔥', name: 'HOT STREAK', desc: 'Get 5 correct answers in a row', unlocked: false, tier: 'rare' },
            survivor: { id: 'survivor', icon: '🚑', name: 'SURVIVOR', desc: 'Win with less than 5 seconds left', unlocked: false, tier: 'rare' },
            risk_taker: { id: 'risk_taker', icon: '🎲', name: 'RISK TAKER', desc: 'Win after using Rewind 3+ times', unlocked: false, tier: 'rare' },
            void_gazer: { id: 'void_gazer', icon: '⚫', name: 'VOID GAZER', desc: 'Stare into the abyss (Toggle Theme 5x)', unlocked: false, tier: 'rare' },
            nocturnal: { id: 'nocturnal', icon: '🌑', name: 'NOCTURNAL', desc: 'Survive the Night Phase', unlocked: false, tier: 'rare' },

            unstoppable: { id: 'unstoppable', icon: '🚀', name: 'UNSTOPPABLE', desc: 'Get 10 correct answers in a row', unlocked: false, tier: 'epic' },
            comeback_king: { id: 'comeback_king', icon: '👑', name: 'COMEBACK KING', desc: 'Win after time dropped below 10s', unlocked: false, tier: 'epic' },
            chrono_master: { id: 'chrono_master', icon: '⏳', name: 'CHRONO MASTER', desc: 'Use both Freeze and Rewind in one game', unlocked: false, tier: 'epic' },
            speed_demon: { id: 'speed_demon', icon: '⚡', name: 'SPEED DEMON', desc: 'Win with more than 30 seconds left', unlocked: false, tier: 'epic' },
            system_overload: { id: 'system_overload', icon: '👾', name: 'SYSTEM OVERLOAD', desc: 'You shouldn\'t be here', unlocked: false, tier: 'epic' },

            neural_sync: { id: 'neural_sync', icon: '🧠', name: 'NEURAL SYNC', desc: 'Complete all questions and win', unlocked: false, tier: 'legendary' },
            perfect_mind: { id: 'perfect_mind', icon: '💎', name: 'PERFECT MIND', desc: 'Win with 0 wrong answers', unlocked: false, tier: 'legendary' },
            timeline_purist: { id: 'timeline_purist', icon: '⚔️', name: 'TIMELINE PURIST', desc: 'Win without using ANY Powers', unlocked: false, tier: 'legendary' },

            warp_speed: { id: 'warp_speed', icon: '⏩', name: 'WARP SPEED', desc: 'Reach 2x Score Multiplier', unlocked: false, tier: 'common' },
            ice_breaker: { id: 'ice_breaker', icon: '🌡️', name: 'THERMAL DYNAMICS', desc: 'Win without ever freezing time', unlocked: false, tier: 'rare' },
            no_looking_back: { id: 'no_looking_back', icon: '🚫', name: 'FORWARD MARCH', desc: 'Win without ever rewinding', unlocked: false, tier: 'rare' },
            mode_traveler: { id: 'mode_traveler', icon: '🗺️', name: 'DIMENSION HOPPER', desc: 'Play all 3 gamemodes in one session', unlocked: false, tier: 'rare' },
            veteran: { id: 'veteran', icon: '🎖️', name: 'VET', desc: 'Play 5 games in one session', unlocked: false, tier: 'epic' }
        };

        let achievementStats = {
            correctAnswers: 0,
            wrongAnswers: 0,
            currentStreak: 0,
            maxStreak: 0,
            freezeUsed: false,
            rewindUsed: false,
            rewindCount: 0,
            freezeCount: 0,
            droppedBelow10: false,
            lowestTime: 60,

            themeToggleCount: 0,
            modesPlayed: new Set(),
            gamesPlayed: 0,
            leaderboardOpenCount: 0,
            titleClickCount: 0
        };

        function loadAchievements() {
            const saved = localStorage.getItem('neurofried_achievements');
            if (saved) {
                const parsed = JSON.parse(saved);
                Object.keys(parsed).forEach(key => {
                    if (ACHIEVEMENTS[key]) ACHIEVEMENTS[key].unlocked = parsed[key];
                });
            }
            updateAchievementCount();
        }

        function saveAchievements() {
            const toSave = {};
            Object.keys(ACHIEVEMENTS).forEach(key => {
                toSave[key] = ACHIEVEMENTS[key].unlocked;
            });
            localStorage.setItem('neurofried_achievements', JSON.stringify(toSave));
        }

        function unlockAchievement(id) {
            if (!ACHIEVEMENTS[id] || ACHIEVEMENTS[id].unlocked) return;

            ACHIEVEMENTS[id].unlocked = true;
            saveAchievements();
            showAchievementPopup(ACHIEVEMENTS[id]);
            updateAchievementCount();
            if (typeof AudioSystem !== 'undefined') AudioSystem.playBtnHover(); // Reuse hover sound as placeholder
            console.log("UNLOCKED: " + id);
        }

        function showAchievementPopup(achievement) {
            const popup = document.getElementById('achievement-popup');
            document.getElementById('ach-popup-icon').textContent = achievement.icon;
            document.getElementById('ach-popup-name').textContent = achievement.name;
            document.getElementById('ach-popup-desc').textContent = achievement.desc;

            popup.classList.add('show');
            document.body.classList.add('glitch-active');
            setTimeout(() => document.body.classList.remove('glitch-active'), 300);

            setTimeout(() => popup.classList.remove('show'), 4000);
        }

        function updateAchievementCount() {
            const total = Object.keys(ACHIEVEMENTS).length;
            const unlocked = Object.values(ACHIEVEMENTS).filter(a => a.unlocked).length;

            const countEl = document.getElementById('ach-count');
            const progressEl = document.getElementById('ach-progress');

            if (countEl) countEl.textContent = `${unlocked}/${total}`;
            if (progressEl) progressEl.textContent = `${unlocked} of ${total} achievements unlocked`;
        }

        function getTierLabel(tier) {
            switch (tier) {
                case 'common': return 'LVL 1 - COMMON';
                case 'rare': return 'LVL 2 - RARE';
                case 'epic': return 'LVL 3 - EPIC';
                case 'legendary': return 'LEGENDARY';
                default: return '';
            }
        }

        window.openAchievements = function () { // Expose globally
            const modal = document.getElementById('ach-modal');
            const grid = document.getElementById('ach-grid');

            if (!modal || !grid) return;

            const tiers = ['common', 'rare', 'epic', 'legendary'];
            const tierNames = {
                'common': 'LEVEL 1 - COMMON',
                'rare': 'LEVEL 2 - RARE',
                'epic': 'LEVEL 3 - EPIC',
                'legendary': 'LEGENDARY'
            };

            let html = '';

            tiers.forEach(tier => {

                const tierAchs = Object.values(ACHIEVEMENTS).filter(a => (a.tier || 'common') === tier);

                if (tierAchs.length > 0) {

                    html += `<h3 class="tier-header tier-${tier}">${tierNames[tier]}</h3>`;







                    html += `<div class="ach-tier-group">`;

                    tierAchs.forEach(ach => {
                        const tierLabel = getTierLabel(ach.tier || 'common');
                        html += `
                            <div class="ach-card ${ach.unlocked ? 'unlocked' : 'locked'} tier-${tier}">
                                <span class="ach-card-icon">${ach.unlocked ? ach.icon : '🔒'}</span>
                                <div class="ach-card-info">
                                    <div style="font-size:0.7rem; color:var(--text-dim); margin-bottom:2px; letter-spacing:1px;">${ach.unlocked ? tierLabel : 'LOCKED'}</div>
                                    <div class="ach-card-name">${ach.unlocked ? ach.name : '??? '}</div>
                                    <div class="ach-card-desc">${ach.unlocked ? ach.desc : 'Keep playing to unlock'}</div>
                                </div>
                            </div>
                        `;
                    });
                    html += `</div>`; // End group
                }
            });

            grid.innerHTML = html;
            modal.classList.add('show');
        };

        window.closeAchievements = function () {
            document.getElementById('ach-modal').classList.remove('show');
        };

        function resetAchievementStats() {

            const sessionModes = achievementStats.modesPlayed || new Set();
            const sessionGames = achievementStats.gamesPlayed || 0;
            const sessionThemes = achievementStats.themeToggleCount || 0;
            const sessionClicks = achievementStats.titleClickCount || 0;
            const sessionLeaderboard = achievementStats.leaderboardOpenCount || 0;

            achievementStats = {
                correctAnswers: 0,
                wrongAnswers: 0,
                currentStreak: 0,
                maxStreak: 0,
                freezeUsed: false,
                rewindUsed: false,
                rewindCount: 0,
                droppedBelow10: false,
                lowestTime: 60,

                modesPlayed: sessionModes,
                gamesPlayed: sessionGames,
                themeToggleCount: sessionThemes,
                titleClickCount: sessionClicks,
                leaderboardOpenCount: sessionLeaderboard
            };
        }



        const TimelineIntegrity = {
            corruption: 0,
            maxCorruption: 100,
            seenQuestions: new Set(),
            loopCount: 0,

            init() {
                this.updateUI();
            },

            onRewind() {
                this.corruption += 15; // Rewind costs MORE
                this.updateUI();
                this.checkCritical();

                if (typeof onRewindUsed !== 'undefined') onRewindUsed();
            },

            onFreeze() {
                this.corruption += 5; // Freeze costs less
                this.updateUI();
                this.checkCritical();

                if (typeof onFreezeUsed !== 'undefined') onFreezeUsed();
            },

            checkDejaVu(questionText) {

                if (this.seenQuestions.has(questionText)) {
                    this.loopCount++;
                    this.triggerDejaVu();
                    return true;
                }
                this.seenQuestions.add(questionText);
                return false;
            },

            triggerDejaVu() {
                console.log('🔁 DEJA VU DETECTED!');

                const alert = document.createElement('div');
                alert.className = 'anomaly-alert';
                alert.innerHTML = `🔁 DEJA VU<br><span style="font-size:0.8em;">Haven't I answered this before...?</span>`;
                alert.style.background = 'linear-gradient(135deg, #8b00ff, #ff00ff)';
                document.body.appendChild(alert);

                if (typeof AudioSystem !== 'undefined') AudioSystem.playRewind();

                document.body.style.animation = 'glitch 0.3s';
                setTimeout(() => document.body.style.animation = '', 300);

                TimerSystem.addTime(10);
                Game.showTimeFeedback(10);

                this.corruption += 10;
                this.updateUI();

                setTimeout(() => alert.remove(), 3000);
            },

            updateUI() {
                const fill = document.getElementById('corruption-fill');
                const text = document.getElementById('corruption-text');
                const warning = document.getElementById('corruption-warning');

                if (!fill || !text) return;

                fill.style.width = `${this.corruption}%`;
                text.textContent = `${Math.floor(this.corruption)}% CORRUPTED`;

                if (this.corruption < 30) {
                    fill.style.boxShadow = '0 0 10px rgba(139, 0, 255, 0.8)';
                } else if (this.corruption < 60) {
                    fill.style.boxShadow = '0 0 15px rgba(255, 0, 255, 0.9)';
                } else {
                    fill.style.boxShadow = '0 0 20px rgba(255, 0, 0, 1)';
                }

                if (this.corruption >= 75 && warning) {
                    warning.style.opacity = '1';
                    warning.style.animation = 'blink 0.5s infinite';
                }
            },

            checkCritical() {
                if (this.corruption >= 100) {

                    this.triggerTimelineCollapse();
                } else if (this.corruption >= 75) {

                    this.triggerRealityFracture();
                }
            },

            triggerRealityFracture() {
                console.log('⚠️ REALITY FRACTURING');

                const crackEl = document.getElementById('screen-crack-overlay');
                if (crackEl) {
                    crackEl.classList.add('cracked');
                }

                const qText = document.getElementById('q-text');
                if (qText && Math.random() > 0.5) {
                    qText.style.animation = 'glitchText 0.3s infinite';
                    setTimeout(() => qText.style.animation = '', 1000);
                }
            },

            triggerTimelineCollapse() {
                console.log('💥 TIMELINE COLLAPSED');
                Game.active = false;
                TimerSystem.stop();

                if (typeof Game !== 'undefined') {
                    document.getElementById('final-aura-score').textContent = Game.score;
                }

                document.getElementById('hud').classList.add('hidden');
                document.getElementById('s-game').classList.add('hidden');
                document.getElementById('s-game-paradox').classList.add('hidden');

                setTimeout(() => {
                    this.showEnding('collapse');
                }, 500);
            },

            showEnding(type) {

                let endingData = {};

                if (type === 'collapse' || this.corruption >= 100) {
                    endingData = {
                        title: 'TIMELINE COLLAPSED',
                        message: 'Reality shattered beyond repair.<br>You are trapped in an endless loop.',
                        color: '#ff0000',
                        class: 'collapse'
                    };
                } else if (!achievementStats.freezeUsed && !achievementStats.rewindUsed) {
                    endingData = {
                        title: 'PURE SYNC ACHIEVED',
                        message: 'You saved history without bending time.<br>The timeline thanks you.',
                        color: '#00ff00',
                        class: 'pure'
                    };
                } else if (this.corruption < 50) {
                    endingData = {
                        title: 'NEURAL SYNC COMPLETE',
                        message: 'You bent time but didn\'t break it.<br>Reality stabilized.',
                        color: '#0ff',
                        class: 'balanced'
                    };
                } else {
                    endingData = {
                        title: 'FRACTURED REALITY',
                        message: 'Timeline scarred but holding.<br>You survived... for now.',
                        color: '#ff00ff',
                        class: 'fractured'
                    };
                }

                const corruptionEl = document.getElementById('final-corruption');
                const loopsEl = document.getElementById('final-loops');
                const powersEl = document.getElementById('final-powers');
                const endingBadge = document.getElementById('final-ending-badge');

                if (corruptionEl) corruptionEl.textContent = `${Math.floor(this.corruption)}%`;
                if (loopsEl) loopsEl.textContent = this.loopCount;
                if (powersEl) powersEl.textContent = achievementStats.rewindCount + achievementStats.freezeCount;
                if (endingBadge) {
                    endingBadge.textContent = `ENDING: ${endingData.title}`;
                    endingBadge.style.color = endingData.color;
                }

                const overlay = document.createElement('div');
                overlay.id = 'timeline-ending-overlay';
                overlay.style.cssText = `
                    position: fixed;
                    inset: 0;
                    background: rgba(0,0,0,0.95);
                    z-index: 99999;
                    display: flex;
                    flex-direction: column;
                    justify-content: center;
                    align-items: center;
                    opacity: 0;
                    transition: opacity 0.8s;
                `;

                overlay.innerHTML = `
                    <div style="font-family: var(--f-title); font-size: 3rem; color: ${endingData.color};
                                text-shadow: 0 0 30px ${endingData.color}; margin-bottom: 30px;
                                animation: pulsate 2s infinite;">
                        ${endingData.title}
                    </div>
                    <div style="font-family: var(--f-mono); font-size: 1.2rem; color: white;
                                text-align: center; max-width: 600px; line-height: 1.8;">
                        ${endingData.message}
                    </div>
                    <div style="margin-top: 40px; font-family: var(--f-mono); font-size: 0.9rem; color: #888;">
                        Timeline Corruption: ${Math.floor(this.corruption)}%<br>
                        Loops Detected: ${this.loopCount}<br>
                        Time Powers Used: ${achievementStats.rewindCount + (achievementStats.freezeUsed ? 1 : 0)}
                    </div>
                `;

                document.body.appendChild(overlay);
                setTimeout(() => overlay.style.opacity = '1', 100);

                setTimeout(() => {
                    overlay.style.opacity = '0';
                    setTimeout(() => {
                        overlay.remove();

                        if (typeof Game !== 'undefined' && typeof Game.runOutroSequence === 'function') {
                            Game.runOutroSequence();
                        }
                    }, 800);
                }, 3000);
            },

            reset() {
                this.corruption = 0;
                this.seenQuestions.clear();
                this.loopCount = 0;
                this.updateUI();
            }
        };

        if (document.readyState === 'loading') {
            document.addEventListener('DOMContentLoaded', () => TimelineIntegrity.init());
        } else {
            TimelineIntegrity.init();
        }

        function onCorrectAnswer() {
            achievementStats.correctAnswers++;
            achievementStats.currentStreak++;
            achievementStats.maxStreak = Math.max(achievementStats.maxStreak, achievementStats.currentStreak);

            if (achievementStats.correctAnswers === 1) unlockAchievement('first_blood');
            if (achievementStats.currentStreak >= 5) unlockAchievement('hot_streak');
            if (achievementStats.currentStreak >= 10) unlockAchievement('unstoppable');

            if (Game.multiplier >= 2) unlockAchievement('warp_speed');
        }

        function onWrongAnswer() {
            achievementStats.wrongAnswers++;
            achievementStats.currentStreak = 0;
        }

        function onFreezeUsed() {
            achievementStats.freezeUsed = true;
            achievementStats.freezeCount++;
            unlockAchievement('time_lord');
            if (achievementStats.freezeUsed && achievementStats.rewindUsed) unlockAchievement('chrono_master');
        }

        function onRewindUsed() {
            achievementStats.rewindUsed = true;
            achievementStats.rewindCount++;
            unlockAchievement('temporal_paradox');
            if (achievementStats.freezeUsed && achievementStats.rewindUsed) unlockAchievement('chrono_master');
        }

        function onTimerUpdateAC(currentTime) {
            achievementStats.lowestTime = Math.min(achievementStats.lowestTime, currentTime);
            if (currentTime < 10) achievementStats.droppedBelow10 = true;
        }

        function onGameWinAC(finalTime) {
            unlockAchievement('neural_sync');
            if (finalTime <= 5) unlockAchievement('survivor');
            if (finalTime >= 30) unlockAchievement('speed_demon');
            if (achievementStats.wrongAnswers === 0) unlockAchievement('perfect_mind');
            if (achievementStats.rewindCount >= 3) unlockAchievement('risk_taker');
            if (achievementStats.droppedBelow10) unlockAchievement('comeback_king');

            if (!achievementStats.freezeUsed && !achievementStats.rewindUsed) unlockAchievement('timeline_purist');

            if (!achievementStats.freezeUsed) unlockAchievement('ice_breaker');
            if (!achievementStats.rewindUsed) unlockAchievement('no_looking_back');

            const nightTriggered = (typeof DuelMode !== 'undefined' && DuelMode.nightTriggered) || (typeof Game !== 'undefined' && Game.nightTriggered);
            if (nightTriggered) unlockAchievement('nocturnal');
        }

        function handleTitleClick() {
            achievementStats.titleClickCount = (achievementStats.titleClickCount || 0) + 1;
            if (achievementStats.titleClickCount >= 10) unlockAchievement('system_overload');
        }



        const DraggableSystem = {
            draggedElement: null,
            offsetX: 0,
            offsetY: 0,

            init() {

                const draggableElements = [
                    { id: 'timer-panel', cursor: 'grab' },
                    { className: 'freeze-container', cursor: 'grab' }, // Container for both buttons
                    { className: 'hud-top-right', cursor: 'grab' }, // Points shower
                    { className: 'share-card-wrapper', cursor: 'grab' }, // Game over card
                    { className: 'game-over-controls', cursor: 'grab' }, // Game over buttons
                    { className: 'share-message-box', cursor: 'grab' } // Share message
                ];

                draggableElements.forEach(config => {
                    const element = config.id ?
                        document.getElementById(config.id) :
                        document.querySelector('.' + config.className);

                    if (element) {
                        element.style.cursor = config.cursor;
                        element.addEventListener('mousedown', (e) => this.startDrag(e, element));
                    }
                });

                document.addEventListener('mousemove', (e) => this.drag(e));
                document.addEventListener('mouseup', () => this.endDrag());
            },

            startDrag(e, element) {

                if (e.target.tagName === 'BUTTON' && e.target !== element) return;

                this.draggedElement = element;
                const rect = element.getBoundingClientRect();
                this.offsetX = e.clientX - rect.left;
                this.offsetY = e.clientY - rect.top;

                element.style.cursor = 'grabbing';
                element.style.transition = 'none'; // Disable transitions while dragging
                e.preventDefault();
            },

            drag(e) {
                if (!this.draggedElement) return;

                const x = e.clientX - this.offsetX;
                const y = e.clientY - this.offsetY;

                const maxX = window.innerWidth - this.draggedElement.offsetWidth;
                const maxY = window.innerHeight - this.draggedElement.offsetHeight;

                const boundedX = Math.max(0, Math.min(x, maxX));
                const boundedY = Math.max(0, Math.min(y, maxY));

                this.draggedElement.style.left = boundedX + 'px';
                this.draggedElement.style.top = boundedY + 'px';
                this.draggedElement.style.right = 'auto';
                this.draggedElement.style.bottom = 'auto';
            },

            endDrag() {
                if (this.draggedElement) {
                    this.draggedElement.style.cursor = 'grab';
                    this.draggedElement.style.transition = ''; // Re-enable transitions
                    this.draggedElement = null;
                }
            }
        };

        const originalShowHUD = () => {
            const hud = document.getElementById('hud');
            if (hud) {
                hud.classList.remove('hidden');

                setTimeout(() => DraggableSystem.init(), 100);
            }
        };

        if (typeof Game !== 'undefined') {
            const originalRunHypeSequence = Game.runHypeSequence;
            Game.runHypeSequence = function () {
                originalRunHypeSequence.call(this);
                setTimeout(() => originalShowHUD(), 2000);
            };
        }

    </script>

    
    <style>
        
        * {
            cursor: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><circle cx="12" cy="12" r="10" fill="rgba(139,0,255,0.3)" stroke="%23ff00ff" stroke-width="2"/><circle cx="12" cy="12" r="3" fill="%23ffffff"/></svg>'), auto;
        }

        button,
        a,
        .opt-btn,
        .draggable {
            cursor: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><circle cx="12" cy="12" r="10" fill="rgba(255,0,255,0.5)" stroke="%2300ffff" stroke-width="2"/><circle cx="12" cy="12" r="4" fill="%23ffffff"/><path d="M12 2 L12 6 M12 18 L12 22 M2 12 L6 12 M18 12 L22 12" stroke="%23ffffff" stroke-width="1.5"/></svg>'), pointer !important;
        }

        #timer-panel,
        .freeze-container,
        .hud-top-right,
        .share-card-wrapper,
        .game-over-controls,
        .share-message-box {
            cursor: grab !important;
        }

        #timer-panel:active,
        .freeze-container:active,
        .hud-top-right:active,
        .share-card-wrapper:active,
        .game-over-controls:active,
        .share-message-box:active {
            cursor: grabbing !important;
        }
    </style>

    
    <div id="leaderboard-modal" class="modal hidden">
        <div class="modal-content cyber-terminal">
            <div class="terminal-header">
                <span>/// SYSTEM_ARCHIVE</span>
                <span class="blink">LIVE</span>
            </div>
            <div class="leaderboard-container">
                <ol id="leaderboard-list"></ol>
            </div>
            <button id="close-leaderboard" class="mega-btn">CLOSE DATABASE</button>
        </div>
    </div>



    
    </div>
    </header>
    
    
    </div>
    </div>
    </div>

    
    </div>
    </div>
    </div>

    <script>
        
        document.addEventListener('click', function () {
            if (!document.fullscreenElement) {
                document.documentElement.requestFullscreen().catch(err => {
                    console.log(`Error attempting to enable full-screen: ${err.message}`);
                });
            }
        }, { once: true });
    </script>
    <script>

        const TiltSystem = {
            target: { x: 0, y: 0 },
            current: { x: 0, y: 0 },
            smoothing: 0.4, // Increased from 0.08 for snappier, mouse-matched feel
            baseScale: 1,

            init() {
                this.tiltLayer = document.getElementById('game-tilt-layer');
                this.hud = document.getElementById('neural-hud-overlay');

                if (!this.tiltLayer) return;

                document.addEventListener('mousemove', (e) => this.handleMove(e));
                window.addEventListener('resize', () => this.handleResize());

                this.handleResize();
                this.loop();
            },

            handleResize() {


                const safeW = 1200;
                const safeH = 800;
                const winW = window.innerWidth;
                const winH = window.innerHeight;

                const scaleW = winW / safeW;
                const scaleH = winH / safeH;



                this.baseScale = Math.min(Math.min(scaleW, scaleH), 1.2);
            },

            handleMove(e) {

                this.target.x = (e.clientX / window.innerWidth) * 2 - 1;
                this.target.y = (e.clientY / window.innerHeight) * 2 - 1;
            },

            lerp(start, end, factor) {
                return start + (end - start) * factor;
            },

            loop() {
                this.current.x = this.lerp(this.current.x, this.target.x, this.smoothing);
                this.current.y = this.lerp(this.current.y, this.target.y, this.smoothing);

                const rotX = -this.current.y * 8;
                const rotY = this.current.x * 8;

                const finalScale = this.baseScale * 1.05;

                this.tiltLayer.style.transform = `rotateX(${rotX.toFixed(2)}deg) rotateY(${rotY.toFixed(2)}deg) scale(${finalScale.toFixed(3)})`;

                if (this.hud) {
                    const hudX = -this.current.x * 25;
                    const hudY = -this.current.y * 25;
                    this.hud.style.transform = `translate(${hudX.toFixed(2)}px, ${hudY.toFixed(2)}px)`;
                }

                requestAnimationFrame(() => this.loop());
            }
        };

        TiltSystem.init();
    </script>
    <script>
        let capturedBlob = null;

        async function initiateCapture() {
            const card = document.querySelector('.share-card');
            if (!card) return;

            const btn = event.target;
            const oldText = btn.innerHTML;
            btn.innerHTML = "PROCESSING...";
            btn.disabled = true;

            try {
                const canvas = await html2canvas(card, {
                    backgroundColor: '#000000',
                    scale: 3,
                    logging: false,
                    useCORS: true,
                    allowTaint: true
                });

                const modal = document.getElementById('capture-modal');
                const prev = document.getElementById('capture-preview-cont');

                prev.innerHTML = '';
                const img = new Image();
                img.src = canvas.toDataURL('image/png');
                img.style.maxWidth = '100%';
                img.style.boxShadow = '0 0 20px rgba(0,0,0,0.5)';
                prev.appendChild(img);

                canvas.toBlob(blob => {
                    capturedBlob = blob;
                    modal.classList.remove('hidden'); // Assuming style attribute handles flex display
                    modal.style.display = 'flex';

                    btn.innerHTML = oldText;
                    btn.disabled = false;
                });

            } catch (e) {
                console.error(e);
                btn.innerHTML = "❌ ERROR";
                setTimeout(() => { btn.innerHTML = oldText; btn.disabled = false; }, 2000);
            }
        }

        function closeCaptureModal() {
            document.getElementById('capture-modal').style.display = 'none';
        }

        function downloadCaptureImage() {
            if (!capturedBlob) return;
            const link = document.createElement('a');
            link.download = `NEURO_FRIED_MEMORY_${Date.now()}.png`;
            link.href = URL.createObjectURL(capturedBlob);
            document.body.appendChild(link);
            link.click();
            document.body.removeChild(link);
        }

        async function shareCaptureImage() {
            if (!capturedBlob) return;

            try {
                if (navigator.share && navigator.canShare) {
                    const file = new File([capturedBlob], 'neuro-fried-score.png', { type: 'image/png' });
                    if (navigator.canShare({ files: [file] })) {
                        await navigator.share({
                            files: [file],
                            title: 'NEURO-FRIED SCORE',
                            text: 'I survived the paradox. Beat my score!'
                        });
                        return;
                    }
                }

                alert("Sharing not supported on this device/browser. Image downloaded instead!");
                downloadCaptureImage();
            } catch (err) {
                console.log("Share skipped/failed", err);
            }
        }
        
        let graphicsQuality = 'high';
        function toggleGraphics() {
            graphicsQuality = graphicsQuality === 'high' ? 'low' : 'high';
            const doc = document.documentElement;
            if (graphicsQuality === 'low') {
                document.body.style.setProperty('--glass-blur', 'blur(0px)');
                document.querySelectorAll('.blood-veins, .blood-drip, .scanlines').forEach(el => el.style.display = 'none');
                document.querySelector('#graphics-toggle').innerText = '⚡';
            } else {
                document.body.style.setProperty('--glass-blur', 'blur(30px)');
                document.querySelectorAll('.blood-veins, .blood-drip, .scanlines').forEach(el => el.style.display = '');
                document.querySelector('#graphics-toggle').innerText = '✨';
            }
        }

        let safeMode = false;
        function toggleSafeMode() {
            safeMode = !safeMode;
            if (safeMode) {
                document.body.style.setProperty('--horror-shake-disabled', '1');
                const style = document.createElement('style');
                style.id = 'safe-mode-override';
                style.textContent = `
                .horror-shake, .glitch-active, body.paradox-hit { animation: none !important; }
                @keyframes horrorShake { 0%, 100% { transform: translate(0); } }
                @keyframes glitchScreen { 0%, 100% { transform: skewX(0); filter: none; } }
            `;
                document.head.appendChild(style);
                document.querySelector('#safe-mode-toggle').innerText = '🛡️';
                alert('✅ SAFE MODE: Reduced motion enabled');
            } else {
                document.getElementById('safe-mode-override')?.remove();
                document.querySelector('#safe-mode-toggle').innerText = '👁️';
            }
        }

        
        if (!localStorage.getItem('neuro-fried-played')) {
            setTimeout(() => {
                const tutorial = document.createElement('div');
                tutorial.id = 'boot-tutorial';
                tutorial.style.cssText = `
                position: fixed; inset: 0; z-index: 100000;
                background: rgba(0,0,0,0.95);
                display: flex; flex-direction: column;
                justify-content: center; align-items: center;
                padding: 40px; text-align: center;
                font-family: var(--f-mono);
            `;

                tutorial.innerHTML = `
                <div style="max-width: 600px; border: 1px solid var(--primary); padding: 30px; border-radius: 10px; background: rgba(0,20,0,0.8);">
                    <h1 style="color: var(--primary); font-size: 2.5rem; margin-bottom: 20px;">
                        NEURAL INTERFACE BOOT
                    </h1>
                    <div style="text-align: left; color: #aaa; line-height: 1.8; margin-bottom: 30px;">
                        <p>⏱️ <strong>TIMER</strong>: Answer fast. Time = Life.</p>
                        <p>🎯 <strong>STREAK</strong>: Chain answers for multiplier.</p>
                        <p>⏪ <strong>REWIND</strong>: Press R when time runs out.</p>
                        <p>❄️ <strong>FREEZE</strong>: Press SPACE to pause timer.</p>
                        <p>🔥 <strong>BOSS NODES</strong>: Every 5th question = 2x speed!</p>
                    </div>
                    <button class="tech-btn" onclick="this.parentElement.parentElement.remove(); localStorage.setItem('neuro-fried-played', '1');">
                        BEGIN SYNC
                    </button>
                </div>
            `;
                document.body.appendChild(tutorial);
            }, 2000);
        }
        
        (function () {
            if (typeof Game === 'undefined' || typeof TimerSystem === 'undefined') return;

            const originalNextRound = Game.nextRound;
            Game.nextRound = function () {
                if (this.round >= this.qData.length) {
                    originalNextRound.call(this);
                    return;
                }

                const isBossNode = (this.round + 1) % 5 === 0;
                if (isBossNode) {
                    document.body.style.setProperty('--primary', '#00ff00');
                    document.body.style.setProperty('--glass-bg', 'rgba(0, 20, 0, 0.9)');

                    if (!document.querySelector('.boss-alert')) {
                        const bossAlert = document.createElement('div');
                        bossAlert.className = 'boss-alert';
                        bossAlert.innerHTML = '🔥 <strong>DATA BREACH</strong> 🔥<br>RAPID RESPONSE REQUIRED';
                        bossAlert.style.cssText = `
                        position: fixed; top: 30%; left: 50%; transform: translate(-50%, -50%);
                        color: #00ff00; border: 2px solid #00ff00; padding: 20px;
                        background: rgba(0,0,0,0.95); z-index: 20000;
                        text-align: center; font-family: var(--f-mono); font-size: 1.5rem;
                        box-shadow: 0 0 50px #00ff00;
                        animation: glitch-anim 0.2s infinite;
                    `;
                        document.body.appendChild(bossAlert);
                        setTimeout(() => bossAlert.remove(), 2500);
                    }

                    TimerSystem.bossMode = true;
                    if (typeof AudioSystem !== 'undefined') AudioSystem.playWrong();
                } else {
                    document.body.style.setProperty('--primary', '#0ff');
                    document.body.style.setProperty('--glass-bg', 'rgba(0, 10, 20, 0.85)');
                    TimerSystem.bossMode = false;
                }
                originalNextRound.call(this);
            };

            const originalUpdate = TimerSystem.update;
            TimerSystem.update = function () {

                if (this.running && this.bossMode) {
                    this.timeLeft -= 0.04;
                }
                originalUpdate.call(this);
            };
        })();
    </script>

    
    <div id="achievement-popup" class="achievement-popup">
        <div id="ach-popup-icon" style="font-size: 2rem;">🏆</div>
        <div>
            <div id="ach-popup-name" style="font-family: var(--f-title); color: var(--primary); font-size: 1.2rem;">
                ACHIEVEMENT</div>
            <div id="ach-popup-desc" style="font-family: var(--f-mono); font-size: 0.8rem; color: #ccc;">Keep playing to
                unlock</div>
        </div>
    </div>

</body>

</html>